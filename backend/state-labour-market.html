<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>State Labour Market Data</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://reelcareer.co/backend/css/styles.css">
    
    <style>
        body {
            padding: 20px;
        }
    </style>
<!-- Main Script Loader -->
    <script src="https://reelcareer.co/scripts/js/loader.js"></script>
</head>

<body>
  
  <script defer src="https://reelcareer.co/backend/js/admin.js"></script>

  <!-- Navbar section -->
  <nav id="Main_Nav" class="navbar navbar-expand-lg navbar-light bg-light" role="navigation" aria-label="Main Navigation">
    <a class="navbar-brand" href="https://reelcareer.co">ReelCareer.co</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
  
                          <!-- Dashboard and New Group -->
                          <div class="navGroup" title="Dashboard and Analytics">
                              <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/notes">Notes</a></li>
                              <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/titles-fix">Title Fix</a></li>
                    </div>
  
              <!-- Dashboard and Analytics Group -->
              <div class="navGroup" title="Dashboard and Analytics">
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/dashboard">Dashboard</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/analytics">Analytics</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/state-labour-market">State Labour Market</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/ping">Ping</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/page-editor">Page Editor</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/notes">Notes</a></li>
              </div>
              <!-- Management Tools -->
              <div class="navGroup" title="Management Tools">
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/content-management">Content <small>Management</small></a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/user-management">User <small>Management</small></a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/job-management">Job <small>Management</small></a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/application-management">Application <small>Management</small></a></li>
              </div>
              <!-- General Settings and Utilities -->
              <div class="navGroup" title="General Settings and Utilities">
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/contact">Contact</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/settings">Settings</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/support">Support</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/chatbot">Chatbot</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/notifications-management">Notifications <small>Management</small></a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/system-logs">System Logs</a></li>
              </div>
              <!-- Finance and Monetization -->
              <div class="navGroup" title="Finance and Monetization">
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/transactions">Transactions</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/integration-management">Integration <small>Management</small></a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/payments">Payments</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/monetization">Monetization</a></li>
              </div>
              <!-- SEO and Cleanup -->
              <div class="navGroup" title="SEO and Cleanup">
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/delete-dup">Delete Dup</a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/seo-helper">SEO Helper</a></li>
              </div>
              <!-- Role and Personality Management -->
              <div class="navGroup" title="Role and Personality Management">
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/role-management">Role <small>Management</small></a></li>
                  <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/trait-personality-management">Trait Personality <small>Management</small></a></li>
              </div>
          </ul>
      </div>
  </nav>
    <div class="container">
        <h1 class="text-center mb-4">State Labour Market Data</h1>

        <div class="mb-4">
            <label for="stateDropdown" class="form-label">Select State:</label>
            <select id="stateDropdown" class="form-select">
                <option value="">-- Select State --</option>
                <!-- State options will be dynamically populated here -->
            </select>
        </div>

        <div id="dataDisplay" class="d-none">
            <h3>State Information</h3>
            <p><strong>State Name:</strong> <span id="stateName"></span></p>
            <p><strong>State Code:</strong> <span id="stateCode"></span></p>
            <p><strong>Region:</strong> <span id="region"></span></p>
            <p><strong>Last Updated:</strong> <span id="lastUpdated"></span></p>
            
            <select id="categories">
                <option value="job-openings-data">Job Openings Data</option>
                <option value="wage-and-salary-information">Wage and Salary Information</option>
                <option value="demand-vs-supply-metrics">Demand vs. Supply Metrics</option>
                <option value="labour-force-demographics">Labour Force Demographics</option>
                <option value="economic-indicators">Economic Indicators</option>
                <option value="educational-insights">Educational Insights</option>
                <option value="remote-work-trends">Remote Work Trends</option>
                <option value="statewide-labour-policy-information">Statewide Labour Policy Information</option>
                <option value="job-seeker-behavior">Job Seeker Behavior</option>
                <option value="employer-insights">Employer Insights</option>
              </select>
              

<!-- Text Area -->
<textarea id="stateDetails" rows="4" cols="50" placeholder="State details will be populated here..."></textarea>

<!-- Init Button -->
<button id="initButton">Init</button>


<form id="stateDataForm">
    <h2>State Data Information</h2>
    
    <!-- Job Openings Data -->
    <h3>Job Openings Data</h3>
    <textarea id="totalJobOpenings" rows="3" cols="50" placeholder="Total number of job openings in the state (e.g., 12000)"></textarea><br><br>
    <textarea id="jobOpeningsByIndustry" rows="5" cols="50" placeholder="Job openings by industry (e.g., { 'Tech': 12000, 'Healthcare': 8000 })"></textarea><br><br>
    <textarea id="jobOpeningsByRole" rows="5" cols="50" placeholder="Job openings by role (e.g., { 'Software Engineer': 3000, 'Nurse': 1500 })"></textarea><br><br>
    <textarea id="jobOpeningsBySkillLevel" rows="5" cols="50" placeholder="Job openings by skill level (e.g., { 'Entry-Level': 5000, 'Mid-Level': 7000 })"></textarea><br><br>
    <textarea id="trendingIndustries" rows="3" cols="50" placeholder="Trending industries (e.g., ['AI', 'Green Energy'])"></textarea><br><br>
    <textarea id="geographicDistribution" rows="3" cols="50" placeholder="Geographic distribution (e.g., { 'Metro': '70%', 'Rural': '30%' })"></textarea><br><br>
    
    <!-- Wage and Salary Information -->
    <h3>Wage and Salary Information</h3>
    <textarea id="medianSalaries" rows="5" cols="50" placeholder="Median salaries (e.g., { 'Software Engineer': 120000, 'Nurse': 85000 })"></textarea><br><br>
    <textarea id="salaryGrowthTrends" rows="5" cols="50" placeholder="Salary growth trends (e.g., { '2022': '3.5%', '2023': '4.2%' })"></textarea><br><br>
    <textarea id="localVsNationalSalaries" rows="5" cols="50" placeholder="Local vs National salaries (e.g., { 'Local': 110000, 'National': 115000 })"></textarea><br><br>
    <textarea id="genderPayGap" rows="5" cols="50" placeholder="Gender pay gap (e.g., { 'Male': 75000, 'Female': 69000 })"></textarea><br><br>
    
    <!-- Demand vs Supply Metrics -->
    <h3>Demand vs Supply Metrics</h3>
    <textarea id="highDemandLowSupplySkills" rows="3" cols="50" placeholder="High demand, low supply skills (e.g., ['Cloud Computing', 'Cybersecurity'])"></textarea><br><br>
    <textarea id="applicationsPerJob" rows="3" cols="50" placeholder="Average number of applications per job (e.g., 30)"></textarea><br><br>
    <textarea id="skillGapAnalysis" rows="5" cols="50" placeholder="Skill gap analysis (e.g., { 'Requested': ['JavaScript'], 'Possessed': ['Python'] })"></textarea><br><br>
    
    <!-- Labour Force Demographics -->
    <h3>Labour Force Demographics</h3>
    <textarea id="ageBreakdown" rows="3" cols="50" placeholder="Age breakdown (e.g., { '18-25': '20%', '26-40': '50%' })"></textarea><br><br>
    <textarea id="genderBreakdown" rows="3" cols="50" placeholder="Gender breakdown (e.g., { 'Male': '60%', 'Female': '40%' })"></textarea><br><br>
    <textarea id="educationBreakdown" rows="3" cols="50" placeholder="Education breakdown (e.g., { 'High School': '40%', 'Bachelor's': '45%' })"></textarea><br><br>
    <textarea id="employmentStatus" rows="3" cols="50" placeholder="Employment status (e.g., { 'Full-time': '70%', 'Part-time': '30%' })"></textarea><br><br>
    
    <!-- Economic Indicators -->
    <h3>Economic Indicators</h3>
    <textarea id="unemploymentRate" rows="3" cols="50" placeholder="Unemployment rate (e.g., 4.5%)"></textarea><br><br>
    <textarea id="jobCreationTrends" rows="3" cols="50" placeholder="Job creation trends (e.g., '2022': '3.0%', '2023': '4.0%')"></textarea><br><br>
    <textarea id="seasonalIndustryImpact" rows="3" cols="50" placeholder="Seasonal industry impact (e.g., { 'Tourism': '+30%', 'Agriculture': '+20%' })"></textarea><br><br>
    <textarea id="stateEconomicGrowth" rows="3" cols="50" placeholder="Economic growth (e.g., { '2022': '3.0%', '2023': '3.5%' })"></textarea><br><br>
    
    <!-- Educational Insights -->
    <h3>Educational Insights</h3>
    <textarea id="localTrainingPrograms" rows="3" cols="50" placeholder="Local training programs (e.g., ['AWS Certification', 'Data Science Bootcamp'])"></textarea><br><br>
    <textarea id="skillsInDemand" rows="3" cols="50" placeholder="Skills in demand (e.g., ['JavaScript', 'Python', 'Cloud Computing'])"></textarea><br><br>
    <textarea id="topInstitutions" rows="3" cols="50" placeholder="Top institutions (e.g., ['MIT', 'Stanford'])"></textarea><br><br>
    
    <!-- Remote Work Trends -->
    <h3>Remote Work Trends</h3>
    <textarea id="remoteJobOpportunities" rows="3" cols="50" placeholder="Remote job opportunities (e.g., { 'Tech': 5000, 'Marketing': 3000 })"></textarea><br><br>
    <textarea id="hybridWorkRates" rows="3" cols="50" placeholder="Hybrid work adoption (e.g., { 'Tech': '60%', 'Healthcare': '20%' })"></textarea><br><br>
    <textarea id="remoteWorkImpact" rows="3" cols="50" placeholder="Remote work impact (e.g., 'Reduced office space by 25%')"></textarea><br><br>
    
    <!-- Statewide Labour Policy Information -->
    <h3>Statewide Labour Policy Information</h3>
    <textarea id="minimumWage" rows="3" cols="50" placeholder="Minimum wage (e.g., 15.00)"></textarea><br><br>
    <textarea id="employmentIncentives" rows="3" cols="50" placeholder="Employment incentives (e.g., { 'Hiring Bonus': '500', 'Relocation': '1000' })"></textarea><br><br>
    <textarea id="unionActivity" rows="3" cols="50" placeholder="Union activity (e.g., { 'Union Participation': '30%', 'Recent Strike': 'July 2023' })"></textarea><br><br>
    
    <!-- Job Seeker Behavior -->
    <h3>Job Seeker Behavior</h3>
    <textarea id="mostSearchedTitles" rows="3" cols="50" placeholder="Most searched job titles (e.g., ['Data Scientist', 'Nurse'])"></textarea><br><br>
    <textarea id="averageTimeToHire" rows="3" cols="50" placeholder="Average time to hire (e.g., 30 days)"></textarea><br><br>
    <textarea id="jobSeekerPreferences" rows="3" cols="50" placeholder="Job seeker preferences (e.g., { 'Healthcare': 70%, 'Flexibility': 50% })"></textarea><br><br>
    
    <!-- Employer Insights -->
    <h3>Employer Insights</h3>
    <textarea id="topHiringCompanies" rows="3" cols="50" placeholder="Top hiring companies (e.g., ['Google', 'Amazon'])"></textarea><br><br>
    <textarea id="industriesWithTurnover" rows="3" cols="50" placeholder="Industries with turnover (e.g., ['Retail', 'Food Service'])"></textarea><br><br>
    <textarea id="emergingIndustries" rows="3" cols="50" placeholder="Emerging industries (e.g., ['AI', 'Green Energy'])"></textarea><br><br>
    
    <button type="button" id="submitStateData">Submit</button>
  </form>
  






            <div class="mt-4">
                <button id="editButton" class="btn btn-primary">Edit</button>
                <button id="saveButton" class="btn btn-success d-none">Save</button>
                <button id="cancelButton" class="btn btn-secondary d-none">Cancel</button>
            </div>
        </div>
    </div>

  
    <!-- Footer -->
    <footer id="dynamic-footer"></footer>
    
    <!-- Firebase configuration/ Login& Out -->
    <script type="module" src="https://reelcareer.co/public/js/main.js"></script> 

    <!-- Firebase JS SDK and Custom Scripts -->

    <script type="module">
        import {
            db, doc, getDoc, query, updateDoc,
            setDoc, ref, signInWithPopup, orderBy,
             
            uploadBytes, OAuthProvider, arrayUnion, getStorage,
            signOut, addDoc, increment, onAuthStateChanged,
            createUserWithEmailAndPassword, signInWithEmailAndPassword,
            where, getDocs, storage, collection, deleteObject, 
            auth, analytics, deleteDoc, getDownloadURL
        } from 'https://reelcareer.co/js/module.js';





        document.addEventListener('DOMContentLoaded', () => {
            const stateDropdown = document.getElementById('stateDropdown');
            const dataDisplay = document.getElementById('dataDisplay');
            const editButton = document.getElementById('editButton');
            const saveButton = document.getElementById('saveButton');
            const cancelButton = document.getElementById('cancelButton');

            // Mock function to fetch states
            function fetchStates() {
    return [
        { stateCode: 'AL', stateName: 'Alabama' },
        { stateCode: 'AK', stateName: 'Alaska' },
        { stateCode: 'AZ', stateName: 'Arizona' },
        { stateCode: 'AR', stateName: 'Arkansas' },
        { stateCode: 'CA', stateName: 'California' },
        { stateCode: 'CO', stateName: 'Colorado' },
        { stateCode: 'CT', stateName: 'Connecticut' },
        { stateCode: 'DE', stateName: 'Delaware' },
        { stateCode: 'FL', stateName: 'Florida' },
        { stateCode: 'GA', stateName: 'Georgia' },
        { stateCode: 'HI', stateName: 'Hawaii' },
        { stateCode: 'ID', stateName: 'Idaho' },
        { stateCode: 'IL', stateName: 'Illinois' },
        { stateCode: 'IN', stateName: 'Indiana' },
        { stateCode: 'IA', stateName: 'Iowa' },
        { stateCode: 'KS', stateName: 'Kansas' },
        { stateCode: 'KY', stateName: 'Kentucky' },
        { stateCode: 'LA', stateName: 'Louisiana' },
        { stateCode: 'ME', stateName: 'Maine' },
        { stateCode: 'MD', stateName: 'Maryland' },
        { stateCode: 'MA', stateName: 'Massachusetts' },
        { stateCode: 'MI', stateName: 'Michigan' },
        { stateCode: 'MN', stateName: 'Minnesota' },
        { stateCode: 'MS', stateName: 'Mississippi' },
        { stateCode: 'MO', stateName: 'Missouri' },
        { stateCode: 'MT', stateName: 'Montana' },
        { stateCode: 'NE', stateName: 'Nebraska' },
        { stateCode: 'NV', stateName: 'Nevada' },
        { stateCode: 'NH', stateName: 'New Hampshire' },
        { stateCode: 'NJ', stateName: 'New Jersey' },
        { stateCode: 'NM', stateName: 'New Mexico' },
        { stateCode: 'NY', stateName: 'New York' },
        { stateCode: 'NC', stateName: 'North Carolina' },
        { stateCode: 'ND', stateName: 'North Dakota' },
        { stateCode: 'OH', stateName: 'Ohio' },
        { stateCode: 'OK', stateName: 'Oklahoma' },
        { stateCode: 'OR', stateName: 'Oregon' },
        { stateCode: 'PA', stateName: 'Pennsylvania' },
        { stateCode: 'RI', stateName: 'Rhode Island' },
        { stateCode: 'SC', stateName: 'South Carolina' },
        { stateCode: 'SD', stateName: 'South Dakota' },
        { stateCode: 'TN', stateName: 'Tennessee' },
        { stateCode: 'TX', stateName: 'Texas' },
        { stateCode: 'UT', stateName: 'Utah' },
        { stateCode: 'VT', stateName: 'Vermont' },
        { stateCode: 'VA', stateName: 'Virginia' },
        { stateCode: 'WA', stateName: 'Washington' },
        { stateCode: 'WV', stateName: 'West Virginia' },
        { stateCode: 'WI', stateName: 'Wisconsin' },
        { stateCode: 'WY', stateName: 'Wyoming' }
    ];
}


            // Populate dropdown
            const states = fetchStates();
            states.forEach(state => {
                const option = document.createElement('option');
                option.value = state.stateCode;
                option.textContent = state.stateName;
                stateDropdown.appendChild(option);
            });

            document.getElementById('initButton').addEventListener('click', function() {
  // Get the selected value from the state dropdown
  const stateDropdown = document.getElementById('stateDropdown');
  const selectedStateCode = stateDropdown.value;



  // Get the state name based on selected state code
  const stateName = stateNames[selectedStateCode];

  // Populate the stateName and stateCode
  document.getElementById('stateName').textContent = stateName;
  document.getElementById('stateCode').textContent = selectedStateCode;

});

// Function to read and parse the JSON, and then populate the preview for editing
function loadStateDetails() {
  const stateDetailsText = document.getElementById('stateDetails').value;

  try {
    // Parse the JSON from the textarea
 // Assuming stateDetailsText contains the JSON data
const stateData = JSON.parse(stateDetailsText);

// Populate the input fields with the corresponding values from stateData
document.getElementById("totalJobOpenings").value = stateData.totalJobOpenings;
document.getElementById("jobOpeningsByIndustry").value = stateData.jobOpeningsByIndustry;
document.getElementById("jobOpeningsByRole").value = stateData.jobOpeningsByRole;
document.getElementById("jobOpeningsBySkillLevel").value = stateData.jobOpeningsBySkillLevel;
document.getElementById("trendingIndustries").value = stateData.trendingIndustries;
document.getElementById("geographicDistribution").value = stateData.geographicDistribution;
document.getElementById("medianSalaries").value = stateData.medianSalaries;
document.getElementById("salaryGrowthTrends").value = stateData.salaryGrowthTrends;
document.getElementById("localVsNationalSalaries").value = stateData.localVsNationalSalaries;
document.getElementById("genderPayGap").value = stateData.genderPayGap;
document.getElementById("highDemandLowSupplySkills").value = stateData.highDemandLowSupplySkills;
document.getElementById("applicationsPerJob").value = stateData.applicationsPerJob;
document.getElementById("skillGapAnalysis").value = stateData.skillGapAnalysis;
document.getElementById("ageBreakdown").value = stateData.ageBreakdown;
document.getElementById("genderBreakdown").value = stateData.genderBreakdown;
document.getElementById("educationBreakdown").value = stateData.educationBreakdown;
document.getElementById("employmentStatus").value = stateData.employmentStatus;
document.getElementById("unemploymentRate").value = stateData.unemploymentRate;
document.getElementById("jobCreationTrends").value = stateData.jobCreationTrends;
document.getElementById("seasonalIndustryImpact").value = stateData.seasonalIndustryImpact;
document.getElementById("stateEconomicGrowth").value = stateData.stateEconomicGrowth;
document.getElementById("localTrainingPrograms").value = stateData.localTrainingPrograms;
document.getElementById("skillsInDemand").value = stateData.skillsInDemand;
document.getElementById("topInstitutions").value = stateData.topInstitutions;
document.getElementById("remoteJobOpportunities").value = stateData.remoteJobOpportunities;
document.getElementById("hybridWorkRates").value = stateData.hybridWorkRates;
document.getElementById("remoteWorkImpact").value = stateData.remoteWorkImpact;
document.getElementById("minimumWage").value = stateData.minimumWage;
document.getElementById("employmentIncentives").value = stateData.employmentIncentives;
document.getElementById("unionActivity").value = stateData.unionActivity;
document.getElementById("mostSearchedTitles").value = stateData.mostSearchedTitles;
document.getElementById("averageTimeToHire").value = stateData.averageTimeToHire;
document.getElementById("jobSeekerPreferences").value = stateData.jobSeekerPreferences;
document.getElementById("topHiringCompanies").value = stateData.topHiringCompanies;
document.getElementById("industriesWithTurnover").value = stateData.industriesWithTurnover;
document.getElementById("emergingIndustries").value = stateData.emergingIndustries;

//console.log(stateData);  // Now stateData is populated in the inputs

} catch (error) {
    // If there's an error in parsing JSON, notify the user
    alert('Invalid JSON format. Please check the state details.');
  }
}



let stateData ;

// Function to handle the upload of state info (for example, uploading to Firebase or similar)
function uploadStateInfo() {
  const stateCode = document.getElementById('previewStateCode').value;
  const stateName = document.getElementById('previewStateName').value;

  if (!stateCode || !stateName ) {
    alert('Please fill in all fields correctly before uploading.');
    return;
  }

  document.getElementById("submitStateData").addEventListener("click", function() {
     stateData = {
  totalJobOpenings: document.getElementById("totalJobOpenings").value,
  jobOpeningsByIndustry: document.getElementById("jobOpeningsByIndustry").value,
  jobOpeningsByRole: document.getElementById("jobOpeningsByRole").value,
  jobOpeningsBySkillLevel: document.getElementById("jobOpeningsBySkillLevel").value,
  trendingIndustries: document.getElementById("trendingIndustries").value,
  geographicDistribution: document.getElementById("geographicDistribution").value,
  medianSalaries: document.getElementById("medianSalaries").value,
  salaryGrowthTrends: document.getElementById("salaryGrowthTrends").value,
  localVsNationalSalaries: document.getElementById("localVsNationalSalaries").value,
  genderPayGap: document.getElementById("genderPayGap").value,
  highDemandLowSupplySkills: document.getElementById("highDemandLowSupplySkills").value,
  applicationsPerJob: document.getElementById("applicationsPerJob").value,
  skillGapAnalysis: document.getElementById("skillGapAnalysis").value,
  ageBreakdown: document.getElementById("ageBreakdown").value,
  genderBreakdown: document.getElementById("genderBreakdown").value,
  educationBreakdown: document.getElementById("educationBreakdown").value,
  employmentStatus: document.getElementById("employmentStatus").value,
  unemploymentRate: document.getElementById("unemploymentRate").value,
  jobCreationTrends: document.getElementById("jobCreationTrends").value,
  seasonalIndustryImpact: document.getElementById("seasonalIndustryImpact").value,
  stateEconomicGrowth: document.getElementById("stateEconomicGrowth").value,
  localTrainingPrograms: document.getElementById("localTrainingPrograms").value,
  skillsInDemand: document.getElementById("skillsInDemand").value,
  topInstitutions: document.getElementById("topInstitutions").value,
  remoteJobOpportunities: document.getElementById("remoteJobOpportunities").value,
  hybridWorkRates: document.getElementById("hybridWorkRates").value,
  remoteWorkImpact: document.getElementById("remoteWorkImpact").value,
  minimumWage: document.getElementById("minimumWage").value,
  employmentIncentives: document.getElementById("employmentIncentives").value,
  unionActivity: document.getElementById("unionActivity").value,
  mostSearchedTitles: document.getElementById("mostSearchedTitles").value,
  averageTimeToHire: document.getElementById("averageTimeToHire").value,
  jobSeekerPreferences: document.getElementById("jobSeekerPreferences").value,
  topHiringCompanies: document.getElementById("topHiringCompanies").value,
  industriesWithTurnover: document.getElementById("industriesWithTurnover").value,
  emergingIndustries: document.getElementById("emergingIndustries").value
};

console.log(stateData);  // You can now process the data or parse the JSON when needed
});



async function saveStateData() {
  const stateName =  document.getElementById('stateName').textContent;

  
  try {
    // Ensure the stateName is part of the document collection name (use it as a document ID)
    const docRef = await addDoc(collection(db, 'StateData',stateName), {
      stateName: stateName, // You can store the state name as a field, or use it as part of the document ID
      stateData,
      source: '', // You can replace this with actual source if necessary
      created_at: new Date().toISOString(),
    });

    console.log("Document written with ID: ", docRef.id);
    alert('Data uploaded successfully!');
  } catch (error) {
    console.error('Error uploading data:', error);
    alert('Failed to upload data.');
  } finally {
    uploadLoader.classList.add('d-none'); // Hide the loader
  }
}





  console.log('Uploading state info:', stateData);

  // Mock upload response
  setTimeout(() => {
    document.getElementById('uploadStatus').textContent = 'State information uploaded successfully!';
  }, 1000);
}

// Initialize the preview when the page loads or when the textarea changes
document.getElementById('stateDetails').addEventListener('input', loadStateDetails);

// Handle the upload button click
document.getElementById('uploadStateInfo').addEventListener('click', uploadStateInfo);



            // Edit functionality
            editButton.addEventListener('click', () => {
                editButton.classList.add('d-none');
                saveButton.classList.remove('d-none');
                cancelButton.classList.remove('d-none');
                // Enable inputs for editing
            });

            saveButton.addEventListener('click', () => {
                // Save updated data
                editButton.classList.remove('d-none');
                saveButton.classList.add('d-none');
                cancelButton.classList.add('d-none');
            });

            cancelButton.addEventListener('click', () => {
                editButton.classList.remove('d-none');
                saveButton.classList.add('d-none');
                cancelButton.classList.add('d-none');
                // Revert changes
            });
        });
    </script>
</body>
</html>