<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>State Labour Market Data</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <style>
        body {
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-4">State Labour Market Data</h1>

        <div class="mb-4">
            <label for="stateDropdown" class="form-label">Select State:</label>
            <select id="stateDropdown" class="form-select">
                <option value="">-- Select State --</option>
                <!-- State options will be dynamically populated here -->
            </select>
        </div>

        <div id="dataDisplay" class="d-none">
            <h3>State Information</h3>
            <p><strong>State Name:</strong> <span id="stateName"></span></p>
            <p><strong>State Code:</strong> <span id="stateCode"></span></p>
            <p><strong>Region:</strong> <span id="region"></span></p>
            <p><strong>Last Updated:</strong> <span id="lastUpdated"></span></p>

            <h3>Job Openings Data</h3>
            <p><strong>Total Job Openings:</strong> <span id="totalJobOpenings"></span></p>
            <div id="jobOpeningsByIndustry"></div>
            <div id="jobOpeningsByRole"></div>
            <div id="jobOpeningsBySkillLevel"></div>
            <p><strong>Trending Industries:</strong> <span id="trendingIndustries"></span></p>
            <p><strong>Geographic Distribution:</strong> <span id="geographicDistribution"></span></p>

            <!-- Add more sections as needed following the collection schema -->

            <div class="mt-4">
                <button id="editButton" class="btn btn-primary">Edit</button>
                <button id="saveButton" class="btn btn-success d-none">Save</button>
                <button id="cancelButton" class="btn btn-secondary d-none">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const stateDropdown = document.getElementById('stateDropdown');
            const dataDisplay = document.getElementById('dataDisplay');
            const editButton = document.getElementById('editButton');
            const saveButton = document.getElementById('saveButton');
            const cancelButton = document.getElementById('cancelButton');

            // Mock function to fetch states
            function fetchStates() {
    return [
        { stateCode: 'AL', stateName: 'Alabama' },
        { stateCode: 'AK', stateName: 'Alaska' },
        { stateCode: 'AZ', stateName: 'Arizona' },
        { stateCode: 'AR', stateName: 'Arkansas' },
        { stateCode: 'CA', stateName: 'California' },
        { stateCode: 'CO', stateName: 'Colorado' },
        { stateCode: 'CT', stateName: 'Connecticut' },
        { stateCode: 'DE', stateName: 'Delaware' },
        { stateCode: 'FL', stateName: 'Florida' },
        { stateCode: 'GA', stateName: 'Georgia' },
        { stateCode: 'HI', stateName: 'Hawaii' },
        { stateCode: 'ID', stateName: 'Idaho' },
        { stateCode: 'IL', stateName: 'Illinois' },
        { stateCode: 'IN', stateName: 'Indiana' },
        { stateCode: 'IA', stateName: 'Iowa' },
        { stateCode: 'KS', stateName: 'Kansas' },
        { stateCode: 'KY', stateName: 'Kentucky' },
        { stateCode: 'LA', stateName: 'Louisiana' },
        { stateCode: 'ME', stateName: 'Maine' },
        { stateCode: 'MD', stateName: 'Maryland' },
        { stateCode: 'MA', stateName: 'Massachusetts' },
        { stateCode: 'MI', stateName: 'Michigan' },
        { stateCode: 'MN', stateName: 'Minnesota' },
        { stateCode: 'MS', stateName: 'Mississippi' },
        { stateCode: 'MO', stateName: 'Missouri' },
        { stateCode: 'MT', stateName: 'Montana' },
        { stateCode: 'NE', stateName: 'Nebraska' },
        { stateCode: 'NV', stateName: 'Nevada' },
        { stateCode: 'NH', stateName: 'New Hampshire' },
        { stateCode: 'NJ', stateName: 'New Jersey' },
        { stateCode: 'NM', stateName: 'New Mexico' },
        { stateCode: 'NY', stateName: 'New York' },
        { stateCode: 'NC', stateName: 'North Carolina' },
        { stateCode: 'ND', stateName: 'North Dakota' },
        { stateCode: 'OH', stateName: 'Ohio' },
        { stateCode: 'OK', stateName: 'Oklahoma' },
        { stateCode: 'OR', stateName: 'Oregon' },
        { stateCode: 'PA', stateName: 'Pennsylvania' },
        { stateCode: 'RI', stateName: 'Rhode Island' },
        { stateCode: 'SC', stateName: 'South Carolina' },
        { stateCode: 'SD', stateName: 'South Dakota' },
        { stateCode: 'TN', stateName: 'Tennessee' },
        { stateCode: 'TX', stateName: 'Texas' },
        { stateCode: 'UT', stateName: 'Utah' },
        { stateCode: 'VT', stateName: 'Vermont' },
        { stateCode: 'VA', stateName: 'Virginia' },
        { stateCode: 'WA', stateName: 'Washington' },
        { stateCode: 'WV', stateName: 'West Virginia' },
        { stateCode: 'WI', stateName: 'Wisconsin' },
        { stateCode: 'WY', stateName: 'Wyoming' }
    ];
}


            // Populate dropdown
            const states = fetchStates();
            states.forEach(state => {
                const option = document.createElement('option');
                option.value = state.stateCode;
                option.textContent = state.stateName;
                stateDropdown.appendChild(option);
            });

            // Mock function to fetch state data
            function fetchStateData(stateCode) {
                return {
                    stateName: 'California',
                    stateCode: 'CA',
                    region: 'West',
                    lastUpdated: '2024-11-24',
                    totalJobOpenings: 50000,
                    jobOpeningsByIndustry: { 'Tech': 20000, 'Healthcare': 15000 },
                    trendingIndustries: ['AI', 'Green Energy'],
                    geographicDistribution: { 'Metro': '70%', 'Rural': '30%' }
                };
            }

            // Display state data
            stateDropdown.addEventListener('change', () => {
                const selectedState = stateDropdown.value;

                if (!selectedState) {
                    dataDisplay.classList.add('d-none');
                    return;
                }

                const data = fetchStateData(selectedState);
                document.getElementById('stateName').textContent = data.stateName;
                document.getElementById('stateCode').textContent = data.stateCode;
                document.getElementById('region').textContent = data.region;
                document.getElementById('lastUpdated').textContent = data.lastUpdated;
                document.getElementById('totalJobOpenings').textContent = data.totalJobOpenings;
                document.getElementById('trendingIndustries').textContent = data.trendingIndustries.join(', ');
                document.getElementById('geographicDistribution').textContent = `Metro: ${data.geographicDistribution.Metro}, Rural: ${data.geographicDistribution.Rural}`;
                dataDisplay.classList.remove('d-none');
            });

            // Edit functionality
            editButton.addEventListener('click', () => {
                editButton.classList.add('d-none');
                saveButton.classList.remove('d-none');
                cancelButton.classList.remove('d-none');
                // Enable inputs for editing
            });

            saveButton.addEventListener('click', () => {
                // Save updated data
                editButton.classList.remove('d-none');
                saveButton.classList.add('d-none');
                cancelButton.classList.add('d-none');
            });

            cancelButton.addEventListener('click', () => {
                editButton.classList.remove('d-none');
                saveButton.classList.add('d-none');
                cancelButton.classList.add('d-none');
                // Revert changes
            });
        });
    </script>
</body>
</html>