<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://reelcareer.co/backend/css/styles.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js"></script>
    <title>Sitemap Generator</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 20px; }
      .controls { margin-bottom: 20px; }
      .controls button { margin-right: 10px; }
      .table-container { height: 300px; overflow-y: auto; margin-bottom: 20px; }
      table { width: 100%; border-collapse: collapse; }
      th, td { padding: 8px; border: 1px solid #ccc; text-align: left; }
      th { cursor: pointer; }
      textarea { width: 100%; height: 150px; margin-top: 10px; }
    </style>
</head>

<body>
    <script src="https://reelcareer.co/public/js/bodyload.js"></script>
    
   <!-- Navbar section -->
<nav id="Main_Nav" class="navbar navbar-expand-lg navbar-light bg-light" role="navigation" aria-label="Main Navigation">
  <a class="navbar-brand" href="https://reelcareer.co">ReelCareer.co</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">

                        <!-- Dashboard and New Group -->
                        <div class="navGroup" title="Dashboard and Analytics">
                            <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/notes">Notes</a></li>
                            <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/titles-fix">Title Fix</a></li>
                            <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/sitemap">Sitmap Builder</a></li>
                  </div>

            <!-- Dashboard and Analytics Group -->
            <div class="navGroup" title="Dashboard and Analytics">
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/dashboard">Dashboard</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/analytics">Analytics</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/state-labour-market">State Labour Market</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/ping">Ping</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/page-editor">Page Editor</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/notes">Notes</a></li>
            </div>
            <!-- Management Tools -->
            <div class="navGroup" title="Management Tools">
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/content-management">Content <small>Management</small></a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/user-management">User <small>Management</small></a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/job-management">Job <small>Management</small></a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/application-management">Application <small>Management</small></a></li>
            </div>
            <!-- General Settings and Utilities -->
            <div class="navGroup" title="General Settings and Utilities">
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/contact">Contact</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/settings">Settings</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/support">Support</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/chatbot">Chatbot</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/notifications-management">Notifications <small>Management</small></a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/system-logs">System Logs</a></li>
            </div>
            <!-- Finance and Monetization -->
            <div class="navGroup" title="Finance and Monetization">
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/transactions">Transactions</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/integration-management">Integration <small>Management</small></a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/payments">Payments</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/monetization">Monetization</a></li>
            </div>
            <!-- SEO and Cleanup -->
            <div class="navGroup" title="SEO and Cleanup">
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/delete-dup">Delete Dup</a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/seo-helper">SEO Helper</a></li>
            </div>
            <!-- Role and Personality Management -->
            <div class="navGroup" title="Role and Personality Management">
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/role-management">Role <small>Management</small></a></li>
                <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/backend/trait-personality-management">Trait Personality <small>Management</small></a></li>
            </div>
        </ul>
    </div>
</nav>

    <div class="container mt-4">
        <h1>Sitemap Generator</h1>
  
        <div class="controls">
          <button id="selectAllBtn">Select All</button>
          <button id="startBtn">Start</button>
          <button id="stopBtn">Stop</button>
          <span>Total Links: <span id="linkCount">0</span></span>
        </div>
        
        <div class="table-container">
          <table id="linkTable">
            <thead>
              <tr>
                <th onclick="sortTable(0)">URL</th>
                <th>Priority</th>
                <th>Changefreq</th>
                <th>Last Modified</th>
                <th>Select</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      
        <button id="downloadBtn">Download Sitemap</button>
        <textarea id="sitemapOutput" readonly></textarea>
        <button id="copyBtn">Copy to Clipboard</button>
      
        <script>
          const baseDomain = 'https://reelcareer.co';
          let links = new Set();
          let crawling = false;
      
          const fetchLinks = async (url) => {
            try {
              const response = await fetch(url);
              const text = await response.text();
              const parser = new DOMParser();
              const doc = parser.parseFromString(text, 'text/html');
              const anchors = doc.querySelectorAll('a[href]');
              
              anchors.forEach(anchor => {
                const href = new URL(anchor.href, baseDomain).href;
                if (href.startsWith(baseDomain) && !links.has(href)) {
                  links.add(href);
                  addLinkToTable(href);
                }
              });
            } catch (error) {
              console.error('Error fetching links:', error);
            }
          };
      
          const addLinkToTable = (url) => {
            const tableBody = document.querySelector('#linkTable tbody');
            const row = document.createElement('tr');
            row.innerHTML = `
              <td>${url}</td>
              <td><input type="text" value="0.5" class="priority"></td>
              <td>
                <select>
                  <option value="daily">Daily</option>
                  <option value="weekly">Weekly</option>
                  <option value="monthly">Monthly</option>
                </select>
              </td>
              <td>${new Date().toISOString().split('T')[0]}</td>
              <td><input type="checkbox"></td>
            `;
            tableBody.appendChild(row);
            document.getElementById('linkCount').textContent = links.size;
          };
      
          const startCrawling = async () => {
            crawling = true;
            await fetchLinks(baseDomain);
          };
      
          const stopCrawling = () => {
            crawling = false;
          };
      
          const generateSitemap = () => {
            let sitemap = '<?xml version="1.0" encoding="UTF-8"?>\n<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n';
            document.querySelectorAll('#linkTable tbody tr').forEach(row => {
              const url = row.cells[0].textContent;
              const priority = row.querySelector('.priority').value;
              const changefreq = row.querySelector('select').value;
              const lastmod = row.cells[3].textContent;
              sitemap += `  <url>\n    <loc>${url}</loc>\n    <priority>${priority}</priority>\n    <changefreq>${changefreq}</changefreq>\n    <lastmod>${lastmod}</lastmod>\n  </url>\n`;
            });
            sitemap += '</urlset>';
            document.getElementById('sitemapOutput').value = sitemap;
          };
      
          const downloadSitemap = () => {
            const blob = new Blob([document.getElementById('sitemapOutput').value], { type: 'application/xml' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'sitemap.xml';
            link.click();
          };
      
          const copyToClipboard = () => {
            const textarea = document.getElementById('sitemapOutput');
            textarea.select();
            document.execCommand('copy');
          };
      
          document.getElementById('selectAllBtn').addEventListener('click', () => {
            document.querySelectorAll('#linkTable tbody input[type="checkbox"]').forEach(checkbox => checkbox.checked = true);
          });
      
          document.getElementById('startBtn').addEventListener('click', startCrawling);
          document.getElementById('stopBtn').addEventListener('click', stopCrawling);
          document.getElementById('downloadBtn').addEventListener('click', downloadSitemap);
          document.getElementById('copyBtn').addEventListener('click', copyToClipboard);
        </script>
              
























        </div>

    <!-- Footer -->
    <footer id="dynamic-footer"></footer>
    
    <!-- Firebase configuration/ Login& Out -->
    <script type="module" src="https://reelcareer.co/public/js/main.js"></script> 

    <!-- Firebase JS SDK and Custom Scripts -->

    <script type="module">
        import {
            db, doc, getDoc, query, updateDoc,
            setDoc, ref, signInWithPopup, orderBy,
             
            uploadBytes, OAuthProvider, arrayUnion, getStorage,
            signOut, addDoc, increment, onAuthStateChanged,
            createUserWithEmailAndPassword, signInWithEmailAndPassword,
            where, getDocs, storage, collection, deleteObject, 
            auth, analytics, deleteDoc, getDownloadURL
        } from 'https://reelcareer.co/js/module.js';




        
    </script>
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
