<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Explore jobs by city on ReelCareer. Discover career opportunities in your desired location and connect with top employers near you.">
  <meta name="keywords" content="jobs by city, city-specific jobs, careers, employment opportunities, local jobs">
  <meta name="author" content="ReelCareer">
  <title>Jobs in City | ReelCareer</title>
  <meta name="robots" content="index, follow">
  <meta name="language" content="en">
  <meta name="geo.region" content="US">
  <meta name="geo.placename" content="[City Name], [State Name]">

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Jobs in City | Find Local Opportunities">
  <meta property="og:description" content="Find the best jobs in [City Name] on ReelCareer. Start your local career journey today!">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.reelcareer.co/jobs/city">
  <meta property="og:image" content="https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png">
  <meta property="og:site_name" content="ReelCareer">
  <meta property="og:locale" content="en_US">

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ReelCareer">
  <meta name="twitter:title" content="Jobs in City | ReelCareer">
  <meta name="twitter:description" content="Explore top job opportunities in [City Name]. Connect with employers now.">
  <meta name="twitter:image" content="https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png">

  <!-- Canonical Tag for SEO -->
  <link rel="canonical" href="https://www.reelcareer.co/jobs/city">

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="https://www.ReelCareer.co/images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://www.ReelCareer.co/images/favicons/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://www.ReelCareer.co/images/favicons/apple-touch-icon.png">


  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!-- Bootstrap CSS -->
    <script src="https://reelcareer.co/public/js/scripts.js"></script>
    <script src="https://reelcareer.co/public/js/loadScripts.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="https://reelcareer.co/public/css/styles.css">

  <style>

/*

    .job-card {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .job-card h2 {
      margin: 0 0 10px;
    }

    .job-card p {
      margin: 5px 0;
    }

    .apply-link {
      display: inline-block;
      margin-top: 10px;
      padding: 10px 15px;
      background: #007BFF;
      color: #fff;
      text-decoration: none;
      border-radius: 5px;
    }

    .apply-link:hover {
      background: #0056b3;
    }

    */
  </style>
</head>

<body>

  <script src="https://reelcareer.co/public/js/bodyload.js"></script>
  <header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="https://reelcareer.co/">ReelCareer</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="https://reelcareer.co/views/about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://reelcareer.co/views/contact">Contact</a>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li id="lastBreadcrumb_home" class="breadcrumb-item"><a href="https://reelcareer.co/">Home</a></li>
        <li id="lastBreadcrumb_1" class="breadcrumb-item"><a href="https://reelcareer.co/jobs/locations">Locations</a></li>
        <li id="breadcrumb-active-title" class="breadcrumb-item active"  aria-current="page">City</li>
    </ol>
  </nav>

  <main id="main-content" >


    <div class="page-header" id="city-header">
      <h1>Explore Jobs in [City Name]</h1>
      <p class="intro-text">
        Looking for job opportunities in [City Name]? Whether you're a local or planning to relocate, our platform offers a wide range of job listings in industries like technology, healthcare, and business. Join the thriving workforce in [City Name] today!
      </p>
    
      <div class="call-to-action">
        <p>
          Start your job search in [City Name] with ReelCareer and find your perfect match. Weâ€™ve gathered the latest openings from top employers across the city to help you kickstart your career journey in [City Name].
        </p>
        <button onclick="window.location.href='#cityListContainer'">Browse Jobs in [City Name]</button>
      </div>
    </div>
    

    <section class="mt-4">

      <input type="text" id="job-search" placeholder="Search jobs...">
      
    </section>


    <section class="mt-4">
      <div class="container">

    <h1><span id="city-name">Jobs in City</span></h1>
    <div id="cityListContainer" class="listContainer"></div>

  </div>


  </section>
   <!-- Similar Jobs Section -->
   <div class="similar-jobs mb-5">
    <h3 class="font-weight-bold">Similar Jobs</h3>
    <hr class="my-2" />
    <div id="similarJobsContainer" class="similarJobsContainer">
        <!-- Dynamically insert similar jobs here -->
        <div class="col-md-4 mb-3"> <!-- Example job item -->
            <div class="card shadow-sm border-light">
                <div class="card-body">
                    <h5 class="card-title">Job Title</h5>
                    <p class="card-text">Short description of the job goes here.</p>
                    <a href="https://reelcareer.co/views/job-listings" class="btn btn-primary">View Job</a>
                </div>
            </div>
        </div>
        <!-- Repeat for more job items -->
    </div>
</div>


<!-- Related Articles Section -->
<div class="related-blogs">
<h3 class="font-weight-bold">Related Articles</h3>
<hr class="my-2" />
<div id="blogContainer" class="blog-cards">
    <!-- Blog links will be dynamically inserted here -->
</div>
</div>


  </main>

    <!-- Footer -->
    <footer id="dynamic-footer"></footer>
    
    <!-- Firebase configuration/ Login& Out -->
    <script type="module" src="https://reelcareer.co/public/js/main.js"></script> 

    <!-- Firebase JS SDK and Custom Scripts -->

    <script type="module">
        import {
            db, doc, getDoc, query, updateDoc,
            setDoc, ref, signInWithPopup, orderBy,
             
            uploadBytes, OAuthProvider, arrayUnion, getStorage,
            signOut, addDoc, increment, onAuthStateChanged,
            createUserWithEmailAndPassword, signInWithEmailAndPassword,
            where, getDocs, storage, collection, deleteObject, 
            auth, analytics, deleteDoc, getDownloadURL
        } from 'https://reelcareer.co/js/module.js';

        function setCityMetaTags(cityData) {
    // Update the document title
    document.title = `ReelCareer.co | Jobs in ${cityData.name}`;

    // Helper function to create or update a meta tag
    function updateMetaTag(name, content, isProperty = false, isCanonical = false) {
    let element;

    if (isCanonical) {
        // Handle canonical links
        element = document.querySelector('link[rel="canonical"]');
        if (!element) {
            element = document.createElement('link');
            element.setAttribute('rel', 'canonical');
            document.head.appendChild(element);
        }
        element.setAttribute('href', content);
    } else {
        // Handle meta tags
        element = document.querySelector(isProperty ? `meta[property="${name}"]` : `meta[name="${name}"]`);
        if (!element) {
            element = document.createElement('meta');
            if (isProperty) {
                element.setAttribute('property', name);
            } else {
                element.setAttribute('name', name);
            }
            document.head.appendChild(element);
        }
        element.setAttribute('content', content);
    }



    // Meta tags for SEO
    updateMetaTag('description', cityData.description || `Explore the best job opportunities in ${cityData.name} on ReelCareer.co!`);
    updateMetaTag('keywords', cityData.keywords || `jobs in ${cityData.name}, ${cityData.name} careers, ${cityData.name} employment, ReelCareer`);
    updateMetaTag('author', cityData.author || 'ReelCareer Team');

    // Open Graph (OG) meta tags for social media sharing
    updateMetaTag('og:title', `ReelCareer.co | Jobs in ${cityData.name}`, true);
    updateMetaTag('og:description', cityData.description || `Find your dream job in ${cityData.name} with ReelCareer.co!`, true);
    updateMetaTag('og:image', cityData.image || 'https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png', true);
    updateMetaTag('og:url', cityData.url || window.location.href, true);
    updateMetaTag('og:type', 'website', true);

    // Twitter card meta tags
    updateMetaTag('twitter:card', 'summary_large_image');
    updateMetaTag('twitter:title', `ReelCareer.co | Jobs in ${cityData.name}`);
    updateMetaTag('twitter:description', cityData.description || `Discover top job opportunities in ${cityData.name} on ReelCareer!`);
    updateMetaTag('twitter:image', cityData.image || 'https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png');

    // Canonical link
    updateMetaTag(null, cityData.url || window.location.href, false, true);
  }


}

        async function displayCityList(jobsContainer) {
  try {
    const jobsRef = collection(db, "Jobs");
    const snapshot = await getDocs(jobsRef);

    // Extract, trim, and sort unique city names
    const cities = [...new Set(snapshot.docs.map(doc => doc.data().city?.trim()))]
      .filter(city => city?.length > 0) // Remove empty or undefined strings
      .sort(); // Sort alphabetically

    let jobs = [];
    snapshot.forEach((doc) => {
      const job = doc.data();
      jobs.push({
        id: doc.id,
        title: job.title,
        company: job.company,
        city: job.city,
        state: job.state,
        description: job.description,
        salary: job.salary,
        url: `https://reelcareer.co/views/job-details?id=${doc.id}`
      });
    });

    // Get the jobs container element

    if (!jobsContainer) throw new Error("Jobs container element not found");

    // Save jobs data as JSON for filtering
    jobsContainer.dataset.jobs = JSON.stringify(jobs);

    // Group cities by their first letter
    const groupedCities = cities.reduce((acc, city) => {
      const firstLetter = city[0].toUpperCase();
      if (!acc[firstLetter]) acc[firstLetter] = [];
      acc[firstLetter].push(city);
      return acc;
    }, {});

    // Generate HTML for each group
    const groupedCityHTML = Object.entries(groupedCities)
      .map(([letter, cityList]) => `  
        <div id="${letter}" class="city-group ">
          <div class="city-letter">
            <h3 class="city-letter-title">${letter} <span class="city-count">(${cityList.length})</span></h3>
            <hr class="city-divider">
          </div>
          <div class="city-list">
            ${cityList.map(city => `
              <div class="state-city-card" data-job-location="${city}">
                <a href="https://reelcareer.co/jobs/city#${city}"><i class="fas fa-city"></i></a>
                <h4><a href="https://reelcareer.co/jobs/city#${city}">${city}</a></h4>
              </div>
            `).join("")}
          </div>
        </div>
      `).join("");

    // Inject HTML into the container
    jobsContainer.innerHTML = `
      <div class="jobs-header ">
        <h2 class="header-title">Available Cities</h2>
        <h4 class="header-subtitle">Total Cities: ${cities.length}</h4>
        <hr class="header-divider">
      </div>
      <div id="state-city-body-Container" class="state-city-body">${groupedCityHTML}</div>
    `;
  } catch (error) {
    console.error("Error fetching city:", error);
    jobsContainer.innerHTML = `<p>Failed to load city list.</p>`;
  }
}

// Search functionality for cities
function searchCities(containerId) {
  const searchTerm = document.getElementById('job-search').value.toLowerCase();
  const jobsContainer = document.getElementById(containerId);
  
  if (!jobsContainer || !jobsContainer.dataset.jobs) {
    console.error("Jobs container or dataset not found.");
    return;
  }

  const jobs = JSON.parse(jobsContainer.dataset.jobs);

  // Filter jobs based on both title and city
  const filteredJobs = jobs.filter(job => 
    job.city.toLowerCase().includes(searchTerm) || 
    job.title.toLowerCase().includes(searchTerm)
  );

  if (filteredJobs.length === 0) {
    jobsContainer.innerHTML = '<p>No jobs found matching your search.</p>';
    return;
  }

  // Generate filtered job list (show title, company, and location)
  const jobHTML = filteredJobs
    .map(job => `

            <div class="location-job-card " data-job-title="${job.title}" data-job-company="${job.company}" data-job-location="${job.city}, ${job.state}">
          <h2>${job.title}</h2>
          <p><strong>Company:</strong> ${job.company}</p>
          <p><strong>Industry:</strong> ${job.industry}</p>
             <p><strong>Location:</strong> ${job.city}, ${job.state}</p>
          <p><strong>Salary:</strong> $${job.salary.toLocaleString()}</p>
          <p><strong>Description:</strong> ${job.description}</p>
          <a href="${job.url}" class="apply-link">View Job</a>
        </div>
    `).join("");

  jobsContainer.innerHTML = `
      <h2 class="header-title">Filtered Jobs</h2>
      <hr class="header-divider">
    </div>
    <div id="state-city-body-Container" class="state-city-body">${jobHTML}</div>
  `;
}
      async function fetchJobsByCity(cityName, container) {
          const jobsContainer = document.getElementById(container);

          try {
      const jobsRef = collection(db, "Jobs");
      const snapshot = await getDocs(jobsRef);



    console.log("city name ", cityName);

    
    // Create the query
    const jobsQuery = query(jobsRef, where("city", "==", cityName));

    // Execute the query
    const querySnapshot = await getDocs(jobsQuery);
    if (querySnapshot.empty) {
      let h2Header = document.getElementById('city-name');
      h2Header.style.display= "none"; 

      const cityHeader = document.getElementById("city-header");

      cityHeader.innerHTML = `
    <div class="search-container ">
      <h1>Search Jobs by Location</h1>
      <p class="intro-text">
        Search or select from our list of locations below to find exciting job opportunities near you.
      </p>
      <div class="call-to-action">
        <p>
          Start your journey by exploring jobs in various locations. Check out our 
          <a href="https://reelcareer.co/jobs/locations" class="link">Available Location Page</a>
          for a complete list of opportunities across industries.
        </p>
      </div>
    </div>
  `;

  displayCityList(jobsContainer);
  return;
}


    let jobs = [];

    querySnapshot.forEach((doc) => {
      const job = doc.data();
      jobs.push({
        id: doc.id,
        title: job.title,
        company: job.company,
        city: job.city,
        state: job.state,
        salary: job.salary,
        description: job.description,
        industry: job.industry,
         url: `https://reelcareer.co/views/job-details?id=${doc.id}`
      });

      const jobCard = `
        <div class="location-job-card " data-job-title="${job.title}" data-job-company="${job.company}" data-job-location="${job.city}, ${job.state}">
          <h2>${job.title}</h2>
          <p><strong>Company:</strong> ${job.company}</p>
          <p><strong>Industry:</strong> ${job.industry}</p>
             <p><strong>Location:</strong> ${job.city}, ${job.state}</p>
          <p><strong>Salary:</strong> $${job.salary.toLocaleString()}</p>
          <p><strong>Description:</strong> ${job.description}</p>
          <a href="${job.url}" class="apply-link">View Job</a>
        </div>
      `;
      document.getElementById('cityListContainer').innerHTML += jobCard;
    });

    // Store the jobs data in the container's dataset for future searches
    document.getElementById('cityListContainer').dataset.jobs = JSON.stringify(jobs);
  } catch (error) {
    console.error('Error fetching jobs:', error);
    document.getElementById('cityListContainer').innerHTML = '<p>Error loading jobs. Please try again later.</p>';
  }
}


function getHashFromURL() {
  const hash = window.location.hash;

  // Remove the '#' symbol, decode the URL, and clean up unwanted characters
  let segments = hash ? decodeURIComponent(hash.substring(1)).replace(/[^\w\s-]/g, '') : null;

  segments = segments ? segments.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()).join(' '): null;

if(segments){

  // Set the new title
document.title = `ReelCareer.co | Search for Jobs in the City of ${segments} `;

// Example city data
const cityData = {
    name: `${segments}`,
    description: `Find your next career opportunity in ${segments}, the tech hub of Texas, with jobs across industries!`,
    keywords: `${segments} jobs, careers in ${segments}, tech jobs in ${segments}, ${segments} employment`,
    author: 'ReelCareer Team',
    image: 'https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png',
    url: `https://reelcareer.co/jobs/city/#${segments}`
};

// Call the function with the city data
setCityMetaTags(cityData);
}
  return segments;
}


    document.addEventListener('DOMContentLoaded', async () => {


      let container = "cityListContainer";

const cityName = getHashFromURL() || "City";
if (cityName !== "City") {
//  container = "state-city-body-Container";

  // Update the header to show "Jobs In [City Name]"
  const h2Header = document.getElementById('city-name');
  if (h2Header) {
    h2Header.textContent = `Jobs In ${cityName}`;
    h2Header.style.display = "block"; // Ensure the header is visible
  }
} else {
  // Hide the header when no specific city is selected
  const h2Header = document.getElementById('city-name');
  if (h2Header) {
    h2Header.style.display = "none";
  }
}

// Set the city name in the breadcrumb and header
document.getElementById("breadcrumb-active-title").textContent = cityName;

const cityHeader = document.getElementById("city-header");

// Replace placeholders with city name in the city header
cityHeader.innerHTML = cityHeader.innerHTML.replaceAll("[City Name]", cityName);

// Fetch jobs for the specified city
fetchJobsByCity(cityName,container );

      

  // Attach search event
  document.getElementById('job-search').addEventListener('input', () => searchCities(container));

});


// Function to fetch similar jobs based on tags

document.addEventListener("DOMContentLoaded", () => {
  setTimeout(() => {

    loadRelatedBlogs();

    getSimilarJobs();
  }, 1000);
});


  </script>
      <!-- Schema.org Markup -->
      <script type="application/ld+json">
        {
          "@context": "http://schema.org",
          "@type": "WebPage",
          "name": "Jobs in City | ReelCareer",
          "url": "https://www.reelcareer.co/jobs/city",
          "description": "Discover top jobs in [City Name] with ReelCareer. Connect with employers near you.",
          "mainEntity": {
            "@type": "SearchAction",
            "target": "https://www.reelcareer.co/jobs/city#{search_term_string}",
            "query-input": "required name=search_term_string"
          }
        }
      </script>
  

  
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://www.reelcareer.co/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Jobs",
            "item": "https://www.reelcareer.co/jobs"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "Jobs by City",
            "item": "https://www.reelcareer.co/jobs/city"
          }
        ]
      }
      </script>
         <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>
