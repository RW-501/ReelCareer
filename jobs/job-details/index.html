<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Explore detailed job descriptions, requirements, and benefits for exciting job opportunities on ReelCareer. Apply to your ideal role and start your career journey today.">
  <meta name="keywords" content="job details, job descriptions, career opportunities, job requirements, apply for jobs, job listings, employment details, job benefits, job applications">
  <meta name="author" content="ReelCareer">
  <meta name="robots" content="index, follow">
  <meta name="language" content="en">
  <meta name="geo.region" content="US-TX">
  <meta name="geo.placename" content="Dallas, Texas">

  <!-- Title optimized for the Job Detail Page -->
  <title>Job Details | Apply for Your Next Career Opportunity</title>

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Job Details | Explore Career Opportunities on ReelCareer">
  <meta property="og:description" content="Find all the details you need about job openings, from responsibilities to qualifications. Apply to your next job on ReelCareer.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.reelcareer.co/jobs/job-details">
  <meta property="og:image" content="https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png"> <!-- Update image path accordingly -->
  <meta property="og:site_name" content="ReelCareer">
  <meta property="og:locale" content="en_US">

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ReelCareer">
  <meta name="twitter:title" content="Job Details | Find Your Next Career Move">
  <meta name="twitter:description" content="Review job descriptions, qualifications, and apply for career opportunities directly on ReelCareer.">
  <meta name="twitter:image" content="https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png"> <!-- Update image path accordingly -->

  <!-- Canonical Tag for SEO -->
  <link rel="canonical" href="https://www.reelcareer.co/jobs/job-details">

  <!-- Standard Favicon -->
  <link rel="icon" type="image/x-icon" href="https://www.ReelCareer.co/images/favicons/favicon.ico">

  <!-- 32x32 Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="https://www.ReelCareer.co/images/favicons/favicon-32x32.png">

  <!-- 16x16 Favicon -->
  <link rel="icon" type="image/png" sizes="16x16" href="https://www.ReelCareer.co/images/favicons/favicon-16x16.png">

  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" sizes="180x180" href="https://www.ReelCareer.co/images/favicons/apple-touch-icon.png">

  <!-- Android Favicon (192x192) -->
  <link rel="icon" type="image/png" sizes="192x192" href="https://www.ReelCareer.co/images/favicons/android-chrome-192x192.png">

  <!-- Chrome Favicon (512x512) -->
  <link rel="icon" type="image/png" sizes="512x512" href="https://www.ReelCareer.co/images/favicons/android-chrome-512x512.png">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <!-- Other CSS files -->
  <link rel="stylesheet" href="https://reelcareer.co/public/css/styles.css"> <!-- Custom CSS for your page -->

  <!-- Favicon links -->
  <link rel="icon" type="image/x-icon" href="https://www.ReelCareer.co/images/favicons/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="https://www.ReelCareer.co/images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://www.ReelCareer.co/images/favicons/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://www.ReelCareer.co/images/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="https://www.ReelCareer.co/images/favicons/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="https://www.ReelCareer.co/images/favicons/android-chrome-512x512.png">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LBTK319K2X"></script>
</head>


<!-- Bootstrap CSS -->
<script src="https://reelcareer.co/public/js/scripts.js"></script>
<script src="https://reelcareer.co/public/js/loadScripts.js"></script>
<!-- Custom CSS -->
<link rel="stylesheet" href="https://reelcareer.co/public/css/styles.css">





<style>



  h1 {
    color: #5b6369;
    font-size: 1.5rem !important;
  }

  .job-details-container {
    background-color: #ffffff;
    border-radius: 15px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    padding: 40px;
    margin-top: 30px;
  }

  .job-logo {
    max-width: 150px;
    border-radius: 10px;
    margin-right: 20px;
  }

  .apply-btn {
    background-color: #007bff;
    color: white;
    border-radius: 5px;
    padding: 12px 25px;
    transition: background-color 0.3s ease, transform 0.2s ease;
  }

  .apply-btn:hover {
    background-color: #0056b3;
    transform: translateY(-2px);
  }

  .job-info,
  .job-tags,
  .job-requirements {
    margin-bottom: 20px;
  }

  .job-info p {
    font-size: 16px;
    margin-bottom: 10px;
  }

  hr {
    border-top: 1px solid #e9ecef;
    margin: 20px 0;
  }

  .job-tags {
    background-color: #e9ecef;
    border-radius: 5px;
    padding: 5px 10px;
    display: inline-block;
    margin-right: 10px;
    margin-bottom: 10px;
  }

  @media (max-width: 576px) {
    .job-details-container {
      padding: 20px;
    }

    #applyBtn {
      width: 100%;
    }
  }

  #applyBtn:hover {
    background-color: #0062cc;
    transform: scale(1.05);
  }

  /* Error message styling */
  #error-message {
    margin: 20px auto;
    padding: 20px;
    border: 1px solid red;
    background-color: #ffe5e5;
    border-radius: 5px;
    max-width: 600px;
    text-align: center;
  }

  #error-message h2 {
    color: red;
    margin-bottom: 10px;
  }

  .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }

  .close:hover,
  .close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }

  .modal-actions {
    margin-top: 20px;
  }

  .modal-actions .btn {
    padding: 10px 20px;
    margin: 10px;
    cursor: pointer;
  }

  .btn-primary {
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
  }

  .btn-success {
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 5px;
  }

  .btn-secondary {
    background-color: #6c757d;
    color: white;
    border: none;
    border-radius: 5px;
  }

  #reportJobModal .modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.5);
    /* Black with opacity */
  }

  #reportJobModal .modal-content {
    background-color: #fff;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    max-width: 600px;
  }

  #reportJobModal .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }

  #reportJobModal .close:hover,
  #reportJobModal .close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }

  h3 {
    font-size: 2.75rem !important;
    color: #83bad9 !important;
    text-shadow: -1px 1px 0px #9e9a9a;
    font-weight: 800 !important;
  }/* General Styling */


.text-muted {
  font-size: 1rem;
  line-height: 1.6;
}

.job-tags span {
  background-color: #e0e7ff;
  padding: 5px 10px;
  border-radius: 5px;
  margin-right: 5px;
  font-size: 0.875rem;
}

.job-tags button {
    background-color: #83bad9;

}

.job-tags button:hover {

background-color: #0056b3;
}

/* Buttons */
.btn {
  border-radius: 25px;
}

.social-sharing{
  background-color: #e9ecef;
}

.btn-outline-secondary:hover {
  background-color: #e9ecef;
}

/* Box Shadows */
.shadow-sm {
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.text-indent {
  text-indent: 1.5rem;
}

img.job-logo {
  width: 150px;
  height: 150px;
}

p {
  margin-bottom: 1rem;
}

h1, h2, h4, h5 {
  margin-bottom: 1rem;
}
.text-left{
text-align: left;
}

#jobTitle {
  font-size: 2rem !important;
}

.row{
  gap: 0;
    row-gap: 0;
    grid-gap: 0;
    justify-content: start;
}

main .row {

    gap: 0.0rem 1rem;
    row-gap: 0.5rem;
    grid-column-gap: 0;
    margin: 0;
    padding: 0;
}
</style>
<body>
  <script src="https://reelcareer.co/public/js/bodyload.js"></script>

  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-dark" role="navigation" aria-label="Main navigation">
    <a class="navbar-brand" href="https://reelcareer.co">ReelCareer</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" href="https://reelcareer.co">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="job-listings">Job Listings</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="about">About Us</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="contact">Contact</a>
        </li>
      </ul>
    </div>
  </nav>


  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li id="lastBreadcrumb_home" class="breadcrumb-item"><a href="https://reelcareer.co/">Home</a></li>
      <li id="lastBreadcrumb_1" class="breadcrumb-item"><a href="https://reelcareer.co/job-listings">Job Listings</a></li>
      <li id="breadcrumb-active-title" class="breadcrumb-item active" aria-current="page">Job</li>
    </ol>
  </nav>

  <main id="main-content">

<!-- Job Detail Section -->
<div id="job-container" class="container  check-cap">

  
    <div class="job-details-container bg-white shadow-sm p-4 rounded my-4" role="main" aria-labelledby="jobTitle">
      <div class=" row job-header">



        <!--  Left Area -->
        <div class="col-md-4 text-center">

                        <!-- Company Logo and Mission -->
    <div class="text-center">
        <img id="companyLogo" class="job-logo img-fluid rounded-circle shadow " alt="Company Logo" src="/images/sq_logo_n_BG.png" loading="lazy" />
        <h4 class="fw-bold mt-4">Our Mission</h4>
        <p id="companyMission" class="text-muted font-italic px-5">Company Mission Statement goes here...</p>
      </div>
              <!--  Actions -->

          <button id="saveBtn" class="btn btn-outline-secondary w-100 mb-3" onclick="saveJob()">Save for Later</button>
          <button id="reportJobBtn" class="btn btn-warning w-100" onclick="openReportJobModal()">Report Job</button>
       
          <div class="text-left mt-3">
            <p  class=" mt-1 mb-0"><strong>Submitted By:</strong>  <name id="submittedBy" class="text-muted font-italic "></name></p>
            <p  class=" mt-1 mb-0"><strong>Job:</strong>  <id id="jobID" class="text-muted font-italic "></id></p>
            <p  class=" mt-1 "><strong>Applicant Count:</strong> <id id="applicantCount" class="text-muted font-italic "></id></p>
          </div>
       
        </div>
        <!-- Job Title & Info -->
        <div class="col-md-8">
          <h3 id="jobTitle" class="font-weight-bold fw-bold mb-3 fw-800">Job Title</h3>
          <hr class="my-2" />

          <div class="job-info-box bg-light rounded-3 shadow-sm p-4">
            <p><strong>Company:</strong> <company id="companyName"></company></p>
            <p><address id="jobLocation"></address></p>
            <p><strong>Industry:</strong> <industry id="industry"></industry></p>
            <p><strong>Category:</strong> <category id="category"></category></p>
            <p><strong>Employment Type:</strong> <employmenttype id="employmentType"></employmenttype></p>
            <p><strong>Salary:</strong> <salary id="salary"></salary> <span id="salaryPayTime"></span></p>
            <p><strong>Posted On:</strong> <date id="createdAt" class="font-italic"></date></p>
          </div>
        </div>
      </div>
  
      <!-- Company Website and Description -->
      <hr class="my-4" />
      <div class="mb-4">
        <a id="companyWebsite" class="text-info" href="" target="_blank">Company Website</a>
        <p id="companyDescription" class="text-muted mt-3"></p>
        <a id="companyPageLink" class="text-info" href="">View Company Page</a>
      </div>
  
      <!-- Job Description -->
      <div class="job-info-box bg-light rounded-3 shadow-sm p-4 mb-4">
        <h4>Job Description</h4>
        <p id="jobDescription" class="text-muted"></p>
        <p><strong>Job Function:</strong> <span id="jobFunction"></span></p>
      </div>
  
      <!-- Job Requirements -->
      <div class="job-info-box bg-light rounded-3 shadow-sm p-4 mb-4">
        <h5>Job Requirements</h5>
        <p id="jobRequirements" class="text-muted "></p>

        <p><strong>Education Required:</strong></p>
        <ul id="educationRequirements" class="list-unstyled"></ul>
        <p><strong>Experience Required:</strong></p>
        <ul id="experienceRequirements" class="list-unstyled"></ul>
      </div>
  
      <!-- Additional Job Details -->
      <div id="jobBenefitsArea" class="job-info-box bg-light rounded-3 shadow-sm p-4 mb-4">
        <h5>Job Benefits</h5>
        <ul id="jobBenefits" class="list-unstyled"></ul>
      </div>
  
      <!-- Job Tags -->
      <div class="mb-4">
        <h5><strong>Tags:</strong></h5>
        <span id="jobTags" class="job-tags"></span>
      </div>
  




      <hr />

      <!-- Social Media Sharing Buttons -->
      <div class="social-sharing m-auto job-info-box shadow-sm rounded p-3"> 
        <h5><strong>Share this job:</strong></h5>
        <div class="d-flex justify-content-between">
            <a id="facebookShare" target="_blank" class="btn btn-facebook btn-sm" style="color: #3b5998;">
                <i class="fab fa-facebook-f fa-lg d-none d-md-inline"></i> <!-- Hide on small screens -->
                <span class="d-none d-md-inline">Share on Facebook</span> <!-- Hide on small screens -->
                <i class="fab fa-facebook-f fa-2x d-md-none"></i> <!-- Show larger icon on mobile -->
            </a>
            <a id="twitterShare" target="_blank" class="btn btn-twitter btn-sm" style="color: #1da1f2;">
                <i class="fab fa-twitter fa-lg d-none d-md-inline"></i> <!-- Hide on small screens -->
                <span class="d-none d-md-inline">Tweet This Job</span> <!-- Hide on small screens -->
                <i class="fab fa-twitter fa-2x d-md-none"></i> <!-- Show larger icon on mobile -->
            </a>
            <a id="linkedinShare" target="_blank" class="btn btn-linkedin btn-sm" style="color: #0077b5;">
                <i class="fab fa-linkedin-in fa-lg d-none d-md-inline"></i> <!-- Hide on small screens -->
                <span class="d-none d-md-inline">Share on LinkedIn</span> <!-- Hide on small screens -->
                <i class="fab fa-linkedin-in fa-2x d-md-none"></i> <!-- Show larger icon on mobile -->
            </a>
            <a id="emailShare" class="btn btn-email btn-sm" style="color: #d44638;">
                <i class="fas fa-envelope fa-lg d-none d-md-inline"></i> <!-- Hide on small screens -->
                <span class="d-none d-md-inline">Share via Email</span> <!-- Hide on small screens -->
                <i class="fas fa-envelope fa-2x d-md-none"></i> <!-- Show larger icon on mobile -->
            </a>
        </div>
    </div>
    





      <!-- Apply Button -->
      <button id="applyBtn" class="btn btn-primary btn-lg w-100 mt-4" aria-label="Apply for this job">Apply Now</button>
    </div>
  </div>


  <div class="text-center m-auto">
    <h3 class="font-weight-bold embedded-Logo">ReelCareer.co</h3>
</div>



    <div class="container mt-5"> <!-- Use a container for consistent padding -->
      <!-- Similar Jobs Section -->
      <div class="similar-jobs mb-5">
          <h3 class="font-weight-bold">Similar Jobs</h3>
          <hr class="my-2" />
          <div id="similarJobsContainer" class="similarJobsContainer">
              <!-- Dynamically insert similar jobs here -->
                       <!-- Dynamically insert here -->
        <div class="loading-container">
          <div class="spinner"></div>
          <p>Loading, please wait...</p>
        </div>
              <div class="col-md-4 mb-3"> <!-- Example job item -->
                  <div class="card shadow-sm border-light">
                      <div class="card-body">
                          <h5 class="card-title">Job Title 1</h5>
                          <p class="card-text">Short description of the job goes here.</p>
                          <a href="#" class="btn btn-primary">View Job</a>
                      </div>
                  </div>
              </div>
              <!-- Repeat for more job items -->
          </div>
      </div>
  
    
    <!-- Related Articles Section -->
    <div class="related-blogs">
      <h3 class="font-weight-bold">Related Articles</h3>
      <hr class="my-2" />
      <div id="blogContainer" class="blog-cards">
          <!-- Blog links will be dynamically inserted here -->
                   <!-- Dynamically insert here -->
        <div class="loading-container">
          <div class="spinner"></div>
          <p>Loading, please wait...</p>
        </div>
      </div>
  </div>
  

  </div>
  


</main>










  <div id="error-message" style="display: none; color: red; text-align: center;">
    <!-- Error message will be dynamically inserted here -->
  </div>

  <!-- Modal Structure -->
  <div id="applicationModal" class="modal " role="dialog" aria-labelledby="applicationModal" >
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>External Application</h2>
      <p>This application will take you to an external website. Do you want to proceed?</p>
      <div class="modal-actions">
        <button id="proceedBtn" class="btn btn-primary">Proceed to Application</button>
        <button id="cancelBtn" class="btn btn-secondary">Cancel</button>
      </div>
    </div>
  </div>

  <div id="reportJobModal" class="modal " role="dialog" aria-labelledby="reportJobTitle" >
    <div class="modal-content">
      <span class="close" aria-label="Close" onclick="closeReportJobModal()">&times;</span>
      <form id="reportJobForm">
        <h2 id="reportJobTitle">Report Job</h2>
        <p>Please select the reason(s) for reporting this job:</p>

        <div class="checkbox-group">
          <input type="checkbox" id="spam" name="reason" value="Spam">
          <label for="spam">Spam</label><br>

          <input type="checkbox" id="incorrectInfo" name="reason" value="Incorrect Information">
          <label for="incorrectInfo">Incorrect Information</label><br>

          <input type="checkbox" id="scam" name="reason" value="Scam">
          <label for="scam">Potential Scam</label><br>

          <input type="checkbox" id="other" name="reason" value="Other">
          <label for="other">Other</label><br>
        </div>

        <textarea id="reportMessage" class="form-control mt-3" rows="4" placeholder="Additional details..."></textarea>

        <button type="button" class="btn btn-primary mt-3" onclick="submitReport()">Submit Report</button>
      </form>

      <!-- Success/Error message placeholder -->
      <div id="reportStatusMessage" class="mt-3"></div>

      <!-- Close button, initially hidden -->
      <button id="closeReportModalButton" type="button" class="btn btn-secondary mt-3" style="display: none;" onclick="closeReportJobModal()">Close</button>
    </div>
  </div>

<!-- Blog Modal -->
<div class="modal fade" id="blogModal" tabindex="-1" aria-labelledby="blogModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="blogModalLabel">Blog Title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
        <div class="modal-body" id="modalBody"> 
          <!-- Full blog content will be injected here -->
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
      </div>
  </div>
</div>




<div id="tag-list" class="hide"></div>
<div id="userID" class="hide"></div>

  <!-- Footer -->
  <footer id="dynamic-footer"></footer>

  <!-- Firebase configuration/ Login & Out -->
  <script type="module" src="https://reelcareer.co/public/js/main.js"></script>

  
    <!-- Firebase JS SDK and Custom Scripts -->

<script type="module">
    import {
        db, doc, getDoc, query, updateDoc,
        setDoc, ref, signInWithPopup, orderBy,
        serverTimestamp,
        uploadBytes, OAuthProvider, arrayUnion, getStorage,
        signOut, addDoc, increment, onAuthStateChanged,
        createUserWithEmailAndPassword, signInWithEmailAndPassword,
        where, getDocs, storage, collection, deleteObject, 
        auth, analytics, deleteDoc, getDownloadURL
    } from 'https://reelcareer.co/js/module.js';








    function setJobDescriptionMetaTags(jobData) {
    // Update the document title
    document.title = `${jobData.title} | ${jobData.companyName || ""}  ReelCareer.co`;

    // Helper function to create or update a meta or link tag
    function updateMetaOrLinkTag(name, content, isProperty = false, isCanonical = false) {
        let element;

        if (isCanonical) {
            // Handle canonical links
            element = document.querySelector('link[rel="canonical"]');
            if (!element) {
                element = document.createElement('link');
                element.setAttribute('rel', 'canonical');
                document.head.appendChild(element);
            }
            element.setAttribute('href', content);
        } else {
            // Handle meta tags
            element = document.querySelector(isProperty ? `meta[property="${name}"]` : `meta[name="${name}"]`);
            if (!element) {
                element = document.createElement('meta');
                if (isProperty) {
                    element.setAttribute('property', name);
                } else {
                    element.setAttribute('name', name);
                }
                document.head.appendChild(element);
            }
            element.setAttribute('content', content);
        }
    }

    // Meta tags for SEO
    updateMetaOrLinkTag('description', jobData.description || `Apply for ${jobData.title} at ${jobData.companyName} on ReelCareer.co!`);
    updateMetaOrLinkTag('keywords', jobData.keywords || `${jobData.title}, ${jobData.companyName || ""}, ${jobData.location}, jobs on ReelCareer`);
    updateMetaOrLinkTag('author', jobData.author || 'ReelCareer Team');

    // Open Graph (OG) meta tags for social media sharing
    updateMetaOrLinkTag('og:title', `${jobData.title} | ${jobData.companyName || ""}`, true);
    updateMetaOrLinkTag('og:description', jobData.description || `Apply now for ${jobData.title} at ${jobData.companyName}!`, true);
    updateMetaOrLinkTag('og:image', jobData.image || 'https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png', true);
    updateMetaOrLinkTag('og:url', jobData.url || window.location.href, true);
    updateMetaOrLinkTag('og:type', 'article', true);

    // Twitter card meta tags
    updateMetaOrLinkTag('twitter:card', 'summary_large_image');
    updateMetaOrLinkTag('twitter:title', `${jobData.title} | ${jobData.companyName}`);
    updateMetaOrLinkTag('twitter:description', jobData.description || `Discover and apply for ${jobData.title} at ${jobData.companyName} on ReelCareer.co!`);
    updateMetaOrLinkTag('twitter:image', jobData.image || 'https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png');

    // Canonical link
    updateMetaOrLinkTag(null, jobData.url || window.location.href, false, true);
}





    let jobID = "";


    let userId = '';

    document.addEventListener('DOMContentLoaded', () => {

    async function initializeUserId() {
        try {
            // Wait for the Firebase Auth state to initialize
            await auth.onAuthStateChanged((user) => {
                if (user) {
                     userId = user.uid; // Access the user ID
                    console.log("User ID:", userId);
                    document.getElementById('userID').innerText = userId;
                    // You can call your functions that require userId here
                } else {
                    console.error("No user is signed in.");
                    // Handle the case where the user is not signed in
                }
            });
        } catch (error) {
            console.error("Error initializing user ID:", error);
        }
    }

    initializeUserId(); // Call the function to initialize user ID

  });
  
    async function saveJob() { 
  // Disable the button and change text
  const saveBtn = document.getElementById('saveBtn');
  saveBtn.disabled = true;
  saveBtn.textContent = "Saving...";

  // Log the jobId for debugging
  console.log("Job ID: ", jobID);

  if (!jobID) {
    showToast("Job ID is undefined or invalid.", 'error')
    saveBtn.textContent = "Save Job";
    saveBtn.disabled = true;
    return;
  }

  try {
    const user = auth.currentUser; // Ensure auth is properly initialized
    if (!user) {
      showToast("You need to be logged in to save jobs.", 'error')
      saveBtn.disabled = true;
      saveBtn.textContent = "Save Job";
      return;
    }

    // Get user-specific saved jobs from the 'Users' collection
    const userSavedJobsRef = doc(db, 'Users', user.uid);
    const userSavedJobsDoc = await getDoc(userSavedJobsRef);

    // Check if the job is already saved
    if (userSavedJobsDoc.exists() && userSavedJobsDoc.data().savedJobs?.includes(jobID)) {
      saveBtn.textContent = "Saved!";
      saveBtn.classList.add('btn-success');
      showToast("Saved Job", 'success');
      showLoader(1000);
      saveBtn.disabled = true;

      return;
    }

    // Save the job to the user's savedJobs array using arrayUnion to prevent duplicates
    await updateDoc(userSavedJobsRef, {
            savedJobs: arrayUnion(jobID),
            savedAt: new Date().toLocaleString()  // Add timestamp field
        });

    // Successfully saved
    saveBtn.textContent = "Saved";
    saveBtn.classList.add('btn-success');

  } catch (error) {
    console.error("Error saving job: ", error);
    showToast("Error saving the job. Please try again.", 'warning');
  } finally {
    saveBtn.disabled = true;
    saveBtn.textContent = "Saved";
    showToast("Saved Job", 'success');

  }
}

    let companyData = "";
    // Function to fetch job details
    async function fetchJobDetails() {
      const urlParams = new URLSearchParams(window.location.search);
      const jobId = urlParams.get('id'); // Get job ID from URL
      const errorMessageDiv = document.getElementById('error-message');
      const jobContainer = document.getElementById('job-container');
      if (!jobId || jobId === "undefined") {
        // Insert "Job not found" HTML into the error-message div
        errorMessageDiv.innerHTML = `
            <h2>Job Not Found</h2>
            <p>We couldn't find the job you're looking for. It might have been removed or is no longer available.</p>
            <a href="ReelCareer/views/job-listing-page" class="btn btn-primary">Back to Jobs</a>
        `;
      }
      try {
  const jobDocRef = doc(db, 'Jobs', jobId);
  const jobDoc = await getDoc(jobDocRef);
  let jobData = '';

  if (jobDoc.exists()) {
     jobData = jobDoc.data();
    jobData.id = jobDoc.id; // Attach the document ID to the data
    setJobDescriptionMetaTags(jobData) ;
    loadJobDetails(jobData); // Call loadJobDetails with jobData, now containing the ID
  } else {
          // Insert "Job not found" HTML into the error-message div
          errorMessageDiv.innerHTML = `
            <h2>Job Not Found</h2>
            <p>We couldn't find the job you're looking for. It might have been removed or is no longer available.</p>
            <a href="ReelCareer/views/job-listing-page" class="btn btn-primary">Back to Jobs</a>
        `;
          errorMessageDiv.style.display = 'block';
          jobContainer.style.display = 'none'; // Hide job details section if applicable
        }
      } catch (error) {
        console.error("Error fetching job details: ", error);
        // Display an error message on the page
        errorMessageDiv.innerHTML = `
            <h2>Error Fetching Job Details</h2>
            <p>There was an error retrieving the job details. Please try again later.</p>
            <a href="/job-listing-page" class="btn btn-primary">Back to Jobs</a>
        `;
        errorMessageDiv.style.display = 'block';
        jobContainer.style.display = 'none'; // Hide job details
      }
    }
    // Function to load job details into the HTML
    async function loadJobDetails(jobData) {
        console.log('Job ID:', jobData.id);
jobID = jobData.id;

 document.getElementById("breadcrumb-active-title").innerText =  jobData.title;

      const createdAt = jobData.createdAt?.toDate ? jobData.createdAt.toDate() : "N/A"; // Fallback to "N/A" if not available
      document.getElementById('jobTitle').textContent = jobData.title;
      document.getElementById('jobID').textContent = jobData.id;
      document.getElementById("jobDescription").innerText = jobData.description;
      document.getElementById('jobLocation').innerHTML = formatLocation(jobData.location);

    document.getElementById('employmentType').textContent = formatJobType(jobData.type);
      document.getElementById('salary').textContent = formatCurrency(jobData.salary, {
        decimals: 0
      });
      document.getElementById('submittedBy').textContent = jobData.submittedBy;
      document.getElementById('industry').textContent = jobData.industry;
      document.getElementById('category').textContent = jobData.category;
      document.getElementById('createdAt').textContent = createdAt instanceof Date ? createdAt.toLocaleDateString() : createdAt;
      


  // New Fields
  document.getElementById('salaryPayTime').textContent = jobData.salaryPayTime || "";
 document.getElementById('jobFunction').textContent = jobData.jobFunction || "N/A";

 document.getElementById('jobRequirements').textContent = jobData.benefits;
 document.getElementById('jobBenefits').textContent = jobData.requirements;

  // Education Requirements (array)
  const educationList = document.getElementById('educationRequirements');
  if (jobData.searchableRequirements.education && jobData.searchableRequirements.education.length > 0) {
    jobData.searchableRequirements.education.forEach(edu => {
      const listItem = document.createElement('li');
      listItem.textContent = edu;
      educationList.appendChild(listItem);
    });
  } else {
    educationList.textContent = "Not specified";
  }

  // Experience Requirements (array)
  const experienceList = document.getElementById('experienceRequirements');
  if (jobData.searchableRequirements.experience && jobData.searchableRequirements.experience.length > 0) {
    jobData.searchableRequirements.experience.forEach(exp => {
      const listItem = document.createElement('li');
      listItem.textContent = exp+" Years Experience";
      experienceList.appendChild(listItem);
    });
  } else {
    experienceList.textContent = "Not specified";
  }


      
      
      // Populate company-related details
      document.getElementById("companyName").innerText = jobData.company;
      if (jobData.companyId) {
        // Create a link to the company page
        const companyPageLink = document.getElementById("companyPageLink");
        companyPageLink.href = `/views/company-page?c=${jobData.companyId}`;
        companyPageLink.textContent = "View Company Page";
      } else {
        document.getElementById("companyPageLink").style.display = "none";
      }
  
      // Fetch company details using companyId from the Companies collection
      try {
        if (jobData.companyId) {
          const companyRef = doc(db, 'Companies', jobData.companyId);
          const companyDoc = await getDoc(companyRef);
          if (companyDoc.exists()) {
            companyData = companyDoc.data();
            document.getElementById("companyLogo").src = companyData.logo ? companyData.logo : "https://reelcareer.co/images/sq_logo_n_BG.png";
            document.getElementById("companyWebsite").href = companyData.website;
            document.getElementById("companyDescription").innerText = companyData.description;
            document.getElementById("companyMission").innerText = companyData.missionStatement;
          } else {
            console.log("No such company!");
          }
        }
      } catch (error) {
        console.error("Error fetching company details: ", error);
      }
      if (jobData.applicationDeadline && jobData.applicationDeadline.toDate) {

    }

      document.getElementById('applicantCount').textContent = jobData.applicantCount || 0;
      document.getElementById('companyWebsite').href = jobData.companyWebsite;
      


 
     let jobTags = jobData.tags; // Assuming jobData.tags is where you get the tags

// Check if jobTags is null, undefined, or not an array
if (!Array.isArray(jobTags) || jobTags.length === 0) {
    //console.log("No tags available for this job. Using default tags.");
    
    // Use default tags if none are available in jobData
    jobTags = ['job', 'jobs', 'new jobs']; // Add more defaults if needed
}

// Ensure jobTags is an array
if (!Array.isArray(jobTags)) {
    jobTags = [jobTags]; // Convert to array if it's a single value
}

// Convert the array into a single string and set the textContent
document.getElementById('tag-list').textContent = jobTags.join(', ');

//console.log("jobTags ?????????/! ", jobTags);



 // console.log("jobTags ?????????/!   ",jobTags);

      renderTags(jobTags);






      // Assuming you have your job data in jobData
      const companyWebsite = document.getElementById('companyWebsite');
      const jobBenefitsArea = document.getElementById('jobBenefitsArea');
      const companyPageLink = document.getElementById('companyPageLink');
      const companyDescription =  document.getElementById("companyDescription")
      const companyMission =  document.getElementById("companyMission")


      // Check if all company elements are empty or missing content
      // Check if the company website is valid
      if (!jobData.companyWebsite || companyWebsite.href === "undefined" ||  jobData.companyWebsite ===  undefined || jobData.companyWebsite.trim() === "") {
        companyWebsite.style.display = "none"; // Hides the company website link if undefined or empty
      }
      if (!companyDescription.innerText || companyDescription.innerText === "undefined" ||  companyDescription.innerText ===  undefined || companyDescription.innerText.trim() === "") {
        companyDescription.style.display = "none"; // Hides the company website link if undefined or empty
        companyPageLink.style.display = "none"; // Hides the company website link if undefined or empty
        companyMission.style.display = "none"; // Hides the company website link if undefined or empty
      }

      // Check if job benefits are available
      if (!jobData.jobBenefits || jobData.jobBenefits.length === 0) {
        jobBenefitsArea.style.display = "none"; // Hides the entire job benefits section if empty
      }

  


       const jobPageURL = window.location.href; // Use current page URL
      const companyName = jobData.company; // Assuming jobData has company information
      const jobTitle = jobData.title; // Job title
      const jobDescription = jobData.description; // Short job description
      // Dynamically update social sharing links
      document.getElementById('facebookShare').href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(jobPageURL)}`;
      document.getElementById('twitterShare').href = `https://twitter.com/intent/tweet?url=${encodeURIComponent(jobPageURL)}&text=Check%20out%20this%20job%20opportunity%20at%20${encodeURIComponent(companyName)}!`;
      document.getElementById('linkedinShare').href = `https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(jobPageURL)}&title=${encodeURIComponent(jobTitle)}&summary=${encodeURIComponent(jobDescription)}&source=ReelCareer`;
      document.getElementById('emailShare').href = `mailto:?subject=Check%20out%20this%20job%20opportunity&body=I%20found%20this%20job%20at%20ReelCareer:%20${encodeURIComponent(jobPageURL)}`;


      function renderTags(tags) {
        const jobTags = document.getElementById('jobTags');
        jobTags.innerHTML = ''; // Clear previous tags
        // Check if tags is defined and is an array
        if (!tags || tags.length === 0) {
            tags = jobTags;
        }
        if (Array.isArray(tags) && tags.length > 0) {
          tags.forEach(tag => {
            // Create a button element for each tag
            const button = document.createElement('button');
            button.className = 'btn btn-secondary m-1 tags'; // Bootstrap button styling
            button.textContent = tag;
            // Add a click event to redirect to job-listings with the selected tag
            button.onclick = () => {
              window.location.href = `https://reelcareer.co/job-listings?tag=${encodeURIComponent(tag)}`;
            };
            // Append the button to the jobTags container
            jobTags.appendChild(button);
          });
        } else {
          // Optionally, display a message if no tags are available
          const noTagsMessage = document.createElement('span');
          noTagsMessage.textContent = 'No tags available.';
          noTagsMessage.className = 'text-muted'; // Optional styling
          jobTags.appendChild(noTagsMessage);
        }
      }


      // Apply button event listener
// Add click event listener to the apply button
    // Event listener for the Apply button
    const applyBtn = document.getElementById('applyBtn');
    if (applyBtn) {
        applyBtn.addEventListener('click', function() {
            const userId = auth.currentUser ? auth.currentUser.uid : null; // Get user ID

            if (!userId) {
                showToast('You must be logged in to apply.', 'error'); // Notify user if not logged in
                return; // Exit if user is not logged in
            }

            // Check if the job is available for application
            if (jobData.applicationAvailableBool) {
                // Determine the source of the view
                const externalSource = document.referrer && !document.referrer.includes(window.location.origin)
                    ? document.referrer
                    : null;
                const internalSource = sessionStorage.getItem('lastInternalPage');
                const referralSource = externalSource || internalSource || 'Direct Visit';



                // Redirect to the application page with jobID, userID, and referralSource as URL parameters
                document.location.href = `apply.html?jobId=${encodeURIComponent(jobID)}&userId=${encodeURIComponent(userId)}&referralSource=${encodeURIComponent(referralSource)}`;
            } else {
                // If the application is external, display the modal
                const modal = document.getElementById('applicationModal');
                if (modal) {
                    modal.style.display = 'block'; // Show modal for external application

                    // Close modal when user clicks outside of it
                    window.addEventListener('click', (event) => {
                        if (event.target === modal) {
                            modal.style.display = 'none';
                        }
                    });
                }
            }
        });
    } else {
        console.error("Apply button not found on the page.");
    }

    // Event listener for the Proceed button within the modal
    const proceedBtn = document.getElementById('proceedBtn');
    if (proceedBtn) {
        proceedBtn.addEventListener('click', function() {
            if (jobData && jobData.applicationWebsite) {
                window.location.href = jobData.applicationWebsite; // Redirect to the external application site
            } else {
                console.error("Application website not available.");
            }
        });
    } else {
        console.error("Proceed button not found on the page.");
    }









      // Job Schema Function
      function createJobSchema(jobData) {
        // Validate jobData if necessary
        if (!jobData) {
          //  throw new Error("jobData is required");
        } else {
          const jobSchema = {
            "@context": "https://schema.org", // Schema.org context
            "@type": "JobPosting", // Type of schema
            jobId: jobData.jobId || "", // Unique identifier for the job
            title: jobData.title || "", // Title of the job
            description: jobData.description || "", // Description of the job
            hiringOrganization: {
              "@type": "Organization",
              name: jobData.companyName || "", // Name of the company
              logo: jobData.companyLogo || "", // URL for the company logo
              website: jobData.companyWebsite || "" // Company's website link
            },
            jobLocation: {
              "@type": "Place",
              address: {
                "@type": "PostalAddress",
                addressLocality: jobData.location?.city || "", // City
                addressRegion: jobData.location?.state || "" // State
              }
            },
            employmentType: jobData.type || "", // Employment type
            baseSalary: {
              "@type": "MonetaryAmount",
              value: jobData.salary || 0, // Salary offered
              currency: "USD" // Currency type
            },
            datePosted: jobData.createdAt ? jobData.createdAt.toISOString() : new Date().toISOString(), // Date posted
            validThrough: jobData.applicationDeadline ? jobData.applicationDeadline.toISOString() : new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString(), // Application deadline date
            applicantCount: jobData.applicantCount || 0, // Number of applicants
            requirements: jobData.requirements || [], // List of job requirements
            benefits: jobData.benefits || [], // List of job benefits
            tags: jobData.tags || [], // Tags related to the job
            applicationAvailableBool: jobData.applicationAvailableBool || false, // Indicates if application is available
            applicationWebsite: jobData.applicationWebsite || "" // Link to the external application website
          };
          return jobSchema;
        }
      }
      // Company Schema Functionfunction createCompanySchema(companyData) {
      // Validate companyData if necessary
      if (!companyData) {
        //     throw new Error("companyData is required");
      } else {
        const companySchema = {
          "@context": "https://schema.org", // Schema.org context
          "@type": "Organization", // Type of schema
          companyId: companyData.companyId || "", // Unique identifier for the company
          name: companyData.name || "", // Name of the company
          logo: companyData.logo || "", // URL for the company logo
          website: companyData.website || "", // Company's website link
          description: companyData.description || "", // Description of the company
          missionStatement: companyData.missionStatement || "", // Company mission statement
          address: {
            "@type": "PostalAddress",
            addressLocality: companyData.location?.city || "",
            addressRegion: companyData.location?.state || "",
            postalCode: companyData.location?.postalCode || "", // Postal code
            streetAddress: companyData.location?.streetAddress || "" // Street address
          },
          contactPoint: {
            "@type": "ContactPoint",
            contactType: "Customer Service",
            telephone: companyData.phone || "", // Company phone number
            email: companyData.email || "" // Company email address
          },
          sameAs: companyData.socialLinks || [] // Social media links
        };
        return companySchema;
      }
    }

  //  console.log("jobTags ??document???????/!   ",jobTags);






  async function submitReport() {
    const selectedReasons = [];
    document.querySelectorAll('#reportJobForm input[type="checkbox"]:checked').forEach((checkbox) => {
        selectedReasons.push(checkbox.value);
    });

    const userDataSaved = getUserData() || [];
    const message = document.getElementById('reportMessage').value;
    const statusMessage = document.getElementById('reportStatusMessage');
    const closeButton = document.getElementById('closeReportModalButton');

    // Clear any previous messages
    statusMessage.innerHTML = '';
    statusMessage.className = '';

    if (selectedReasons.length === 0 && !message) {
        statusMessage.innerHTML = 'Please select a reason or enter a message before submitting.';
        statusMessage.className = 'text-danger';
        return;
    }

    const jobID = document.getElementById('jobID').innerText;
    const userID = document.getElementById('userID').innerText;

    // Report Data to Firebase
    const reportData = {
        jobId: jobID,
        jobTitle: document.title,
        reasons: selectedReasons,
        message: message,
        URL: window.location.href,
        submittedAt: new Date().toISOString(),
        timestamp: serverTimestamp(),
        submittedBy: "user",
        submittedByUserID: userID,
        submittedByUserName: userDataSaved.displayName || "User",
        type: "User Report",
        pageTitle: document.title,
        status: "submitted"
    };

    // Create content for the follow-up message
    const reasonsContent = selectedReasons.length > 0 ? `Reasons: ${selectedReasons.join(', ')}` : '';
    const followUpMessageContent = `
        Thank you for reporting this issue. Our support team will follow up shortly. 

        ${reasonsContent}

        From ReelCareer
    `;

    // Follow-up Message Data
    const followUpMessage = {
        recipientID: userID,
        recipientName: userDataSaved.displayName || "User",
        recipientProfileURL: `https://reelcareer.co/u/?u=${userID}`,
        recipientProfilePicture: "",
        recipientRead: false,
        participants: ["000000", userID],
        senderID: "000000", // Support account ID
        senderName: "Support",
        senderProfilePicture: "https://reelcareer.co/Images/logo.png",
        senderProfileURL: "https://reelcareer.co/support",
        group: "main",
        messageType: "support",
        contactLocation: "platform",
        conversationID: `conversation_${jobID}_${userID}`,
        content: followUpMessageContent.trim(),
        connectedBool: true,
        createdAt: new Date(),
        timestamp: serverTimestamp(),
        contentType: "notification",
        status: "unread",
        attachments: ""
    };

    try {
        toggleLoading(true);

        // Submit the report
        const reportRef = await addDoc(collection(db, 'SupportTickets'), reportData);
        console.log(`Report submitted with ID: ${reportRef.id}`);

        // Send the follow-up message
        await addDoc(collection(db, "Messages"), followUpMessage);
        console.log("Follow-up message sent successfully!");

        // Show success message to user
        statusMessage.innerHTML = 'Your report has been submitted. Thank you for your feedback.';
        statusMessage.className = 'text-success';
        closeButton.style.display = 'block';

        // Disable submit button after success
        document.querySelector('#reportJobForm button[type="button"]').disabled = true;

    } catch (error) {
        console.error("Error submitting report or follow-up message:", error);

        statusMessage.innerHTML = 'There was an error submitting your report. Please try again later.';
        statusMessage.className = 'text-danger';
    } finally {
        toggleLoading(false);
    }
}






// Make the function globally accessible by attaching it to the `window` object
window.saveJob = saveJob;
window.submitReport = submitReport; // Expose submitReport globally


    // Open the modal
 // Open the report job modal
function openReportJobModal() {
    document.getElementById('reportJobModal').style.display = 'block'; // No need for !important
}

// Close the report job modal
function closeReportJobModal() {
    document.getElementById('reportJobModal').style.display = 'none'; // No need for !important
}

// Attach the modal open/close functions to the global window object
window.openReportJobModal = openReportJobModal;
window.closeReportJobModal = closeReportJobModal;


// Get elements for modal interactions
const closeModal = document.querySelector('.close');
const cancelBtn = document.getElementById('cancelBtn');
const modal = document.getElementById('applicationModal');

// Close modal on clicking the close button (X)
if (closeModal) {
    closeModal.addEventListener('click', function() {
        modal.style.display = 'none'; // No need for !important
    });
}

// Close modal on clicking the cancel button
if (cancelBtn) {
    cancelBtn.addEventListener('click', function() {
        modal.style.display = 'none'; // No need for !important
    });
}



let viewStartTime;

// Function to set the last internal page in sessionStorage before navigating
function setInternalPageSource() {
    sessionStorage.setItem('lastInternalPage', window.location.href);
}

// Function to start tracking the view time when the page loads
function startViewTimer() {
    viewStartTime = Date.now();
}

// Function to update the Job Detail's 'jobDetailViews' count, view source, and view duration in Firebase
async function updateJobViewData() {
    // Calculate view duration in seconds
    const viewEndTime = Date.now();
    const durationOfView = (viewEndTime - viewStartTime) / 1000; // Convert ms to seconds

    // Determine the source
    const externalSource = document.referrer && !document.referrer.includes(window.location.origin)
        ? document.referrer
        : null;
    const internalSource = sessionStorage.getItem('lastInternalPage');
    const viewSource = externalSource || internalSource || 'Direct Visit';

    // Retrieve job and user information
    const jobId = document.getElementById('jobID')?.innerText;
    const jobTitle = document.getElementById('jobTitle')?.innerText;
    const userId = document.getElementById('userID')?.innerText || 'guest';
    const viewerRole = document.getElementById('userRole')?.innerText || 'guest'; // Defaults to 'guest' if user role is missing

    // Validate job ID before proceeding
    if (!jobId) {
        console.error("Missing jobId. View data not recorded.");
        return;
    }

    // Update the job view data in the Jobs collection
    try {
        await updateDoc(doc(db, 'Jobs', jobId), {
            viewedBy: arrayUnion({
                viewerId: userId,                       // ID of the user or 'guest'
                viewerRole: viewerRole,                 // Role of the viewer (e.g., 'job seeker', 'recruiter', or 'guest')
                viewDate: new Date().toISOString(),
                viewMethod: navigator.userAgentData?.mobile ? "mobile" : "desktop", // Detects desktop or mobile view
                durationOfView: durationOfView || null, // Optional: estimated duration of view in seconds
                viewSource: viewSource,                 // Tracks the source of the view
            }),
            jobDetailViews: + 1,
        });
        console.log("Job view data updated successfully.");
    } catch (error) {
        console.error("Error updating job view data:", error);
    }
}

// Event listener to set last internal page before navigating away
window.addEventListener('beforeunload', setInternalPageSource);

// Event listener to start timing the view when the page loads
window.addEventListener('load', startViewTimer);

// Event listener to record data when the page is unloaded
window.addEventListener('beforeunload', updateJobViewData);



// Close modal if the user clicks outside of it
    window.addEventListener('click', function(event) {
      if (event.target == modal) {
        modal.style.display = 'none';
      }
    });



// Function to fetch similar jobs based on tags

document.addEventListener("DOMContentLoaded", () => {
  fetchJobDetails();
});

window.onload = async function () {
  setTimeout(() => {

loadRelatedBlogs();

getSimilarJobs();
}, 1000);
};

  </script>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>

</html>