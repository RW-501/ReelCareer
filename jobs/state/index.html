<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Find jobs by state on ReelCareer. Explore career opportunities in your region and connect with top employers.">
  <meta name="keywords" content="jobs by state, careers, employment opportunities, state-specific jobs">
  <meta name="author" content="ReelCareer">
  <title>Jobs in State | ReelCareer</title>
  <meta name="robots" content="index, follow">
  <meta name="language" content="en">
  <meta name="geo.region" content="US-TX">
  <meta name="geo.placename" content="Dallas, Texas">

  <!-- Title optimized for About Page -->
  <title>About ReelCareer | Your Job Search and Career Advancement Platform</title>

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="About ReelCareer | Connecting Job Seekers with Employers">
  <meta property="og:description" content="Discover how ReelCareer helps job seekers find their ideal job and advance their careers. Learn more about our platform, mission, and values.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.reelcareer.co/jobs/state">
  <meta property="og:image" content="https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png"> <!-- Update image path accordingly -->
  <meta property="og:site_name" content="ReelCareer">
  <meta property="og:locale" content="en_US">

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ReelCareer">
  <meta name="twitter:title" content="About ReelCareer | Job Search Platform">
  <meta name="twitter:description" content="Learn more about ReelCareer, a platform dedicated to connecting job seekers with top employers and career resources.">
  <meta name="twitter:image" content="https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png"> <!-- Update image path accordingly -->

  <!-- Canonical Tag for SEO -->
  <link rel="canonical" href="https://www.reelcareer.co/jobs/state">

  <!-- Standard Favicon -->
  <link rel="icon" type="image/x-icon" href="https://www.ReelCareer.co/images/favicons/favicon.ico">

  <!-- 32x32 Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="https://www.ReelCareer.co/images/favicons/favicon-32x32.png">

  <!-- 16x16 Favicon -->
  <link rel="icon" type="image/png" sizes="16x16" href="https://www.ReelCareer.co/images/favicons/favicon-16x16.png">

  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" sizes="180x180" href="https://www.ReelCareer.co/images/favicons/apple-touch-icon.png">

  <!-- Android Favicon (192x192) -->
  <link rel="icon" type="image/png" sizes="192x192" href="https://www.ReelCareer.co/images/favicons/android-chrome-192x192.png">

  <!-- Chrome Favicon (512x512) -->
  <link rel="icon" type="image/png" sizes="512x512" href="https://www.ReelCareer.co/images/favicons/android-chrome-512x512.png">


    <!-- Schema.org markup for Google+ -->
    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "name": "ReelCareer",
            "url": "https://www.reelcareer.com",
            "logo": "https://www.reelcareer.com/logo.png",
            "sameAs": [
                "https://www.facebook.com/reelcareer",
                "https://www.twitter.com/reelcareer",
                "https://www.linkedin.com/company/reelcareer"
            ],
            "contactPoint": {
                "@type": "ContactPoint",
                "telephone": "+1-800-555-0199",
                "contactType": "Customer Service",
                "areaServed": "US",
                "availableLanguage": "English"
            }
        }
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    
    <!-- Bootstrap CSS -->
    <script src="https://reelcareer.co/public/js/scripts.js"></script>
    <script src="https://reelcareer.co/public/js/loadScripts.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="https://reelcareer.co/public/css/styles.css">
    <style>


.scroll-up-button {

  
display: none;  /* Initially hidden */
padding: 10px 15px;
    background-color: #007bff;
    color: white;
    font-size: 20px;
    border: none;
    border-radius: 25px;
    margin: auto;
    cursor: pointer;
    transition: opacity 0.3s ease-in-out;
}

.scroll-up-button:hover {
background-color: #0056b3;
}
.cities {
    display: contents;
}
.search-bar-container {
    width: 70vw;
}


#cityLetters {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    align-content: center;
    justify-content: center;
    align-items: center;
}
</style>

<!-- Main Script Loader -->
    <script src="https://reelcareer.co/scripts/js/loader.js"></script>
</head>


<body>
    
    
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="https://reelcareer.co/">ReelCareer</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="https://reelcareer.co">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/job-listings">Jobs</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/views/about">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://reelcareer.co/views/contact">Contact</a></li>
                </ul>
            </div>
        </nav>
    </header>



        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li id="lastBreadcrumb_home" class="breadcrumb-item"><a href="https://reelcareer.co/">Home</a></li>
                <li id="lastBreadcrumb_1" class="breadcrumb-item"><a href="https://reelcareer.co/jobs/locations">Locations</a></li>
                <li id="breadcrumb-active-title" class="breadcrumb-item active"  aria-current="page">State</li>
            </ol>
          </nav>

          <main id="main-content">
    
            <div class="page-header" id="state-header">
              <h1>Find Jobs in [State Name]</h1>
              <p class="intro-text">
                Searching for job opportunities across [State Name]? Explore the latest job openings in cities like [City Name], and more. Whether you're seeking a career change or new employment, ReelCareer helps you connect with the best employers in [State Name].
              </p>
            
              <div class="call-to-action">
                <p>
                  Looking for a job in [State Name]? Browse through full-time, part-time, and remote positions in various sectors, from tech to education. Our state-specific job listings make finding your next career easy!
                </p>
                <button onclick="window.location.href='#stateListContainer'">Explore Jobs in [State Name]</button>
              </div>
            </div>
            
        <section class="mt-4">

        <input type="text" id="job-search" placeholder="Search jobs..." hidden>
        
      </section>

        <section class="mt-4">
            <div class="container">
                <h1><span id="state-name">Jobs in State</span></h1>
                <div id="stateListContainer" class="listContainer">
                          <!-- Dynamically insert here -->
        <div class="loading-container">
          <div class="spinner"></div>
          <p>Loading, please wait...</p>
        </div>
                </div>
              </div>
            
            </section>
     <!-- Similar Jobs Section -->
     <div class="similar-jobs mb-5">
      <h3 class="font-weight-bold">Similar Jobs</h3>
      <hr class="my-2" />
      <div id="similarJobsContainer" class="similarJobsContainer">
          <!-- Dynamically insert similar jobs here -->
                   <!-- Dynamically insert here -->
        <div class="loading-container">
          <div class="spinner"></div>
          <p>Loading, please wait...</p>
        </div>
          <div class="col-md-4 mb-3"> <!-- Example job item -->
              <div class="card shadow-sm border-light">
                  <div class="card-body">
                      <h5 class="card-title">Job Title </h5>
                      <p class="card-text">Short description of the job goes here.</p>
                      <a href="https://reelcareer.co/job-listings" class="btn btn-primary">View Job</a>
                  </div>
              </div>
          </div>
          <!-- Repeat for more job items -->
      </div>
  </div>


<!-- Related Articles Section -->
<div class="related-blogs">
  <h3 class="font-weight-bold">Related Articles</h3>
  <hr class="my-2" />
  <div id="blogContainer" class="blog-cards">
      <!-- Blog links will be dynamically inserted here -->
               <!-- Dynamically insert here -->
               <div class="loading-container">
                <div class="spinner"></div>
                <p>Loading, please wait...</p>
              </div>
  </div>
</div>


    </main>

<script>

  


</script>
    <!-- Footer -->
    <footer id="dynamic-footer">
<div class="footerMainContainer text-center">
<p class="footerSocialMedia"></p>
<nav class="footerNavContainer">

<div class="footerNavItems">
<h5>General</h5>
<a href="/" title="ReelCareer - #1 Job Board - Find a job today">ReelCareer</a><a href="/views/about" title="About ReelCareer - Who We Are and Our Mission">About ReelCareer</a><a href="/views/contact" title="Contact ReelCareer - Get in Touch for Support and Inquiries">Contact Us</a><a href="/job-listings" title="Job Listings - Search and Apply for Job Openings">Job Listings</a><a href="/membership" title="Membership - Unlock Premium Features and Job Opportunities">Membership</a>
</div>

<div class="footerNavItems">
<h5>Legal</h5>
<a href="/views/privacy" title="Privacy Policy - How We Protect Your Data">Privacy Policy</a><a href="/views/terms" title="Terms of Use - Website User Agreement and Guidelines">Terms of Use</a>
</div>

<div class="footerNavItems">
<h5>Content</h5>
<a href="/views/blogs" title="ReelCareer Blog - Career Advice, News, and Insights">Blogs</a><a href="/views/news" title="ReelCareer News - Latest Updates and Industry Trends">News</a><a href="/views/Personality-&-Trait-Tests" title="Personality & Trait Tests - Discover Your Strengths and Work Style">Personality & Trait Tests</a><a href="/reels" title="Video Reels - Showcase Your Resume with a Personal Touch">Video Reels</a>
</div>

<div class="footerNavItems">
<h5>Support</h5>
<a href="/views/faq" title="Frequently Asked Questions - Get Answers to Common Queries">FAQs</a><a href="/bot" title="Chat Bot - Get Instant Assistance with Your Job Search">Chat Bot</a><a href="/support" title="Support - Get Help with Your Job Search and Account">Support</a>
</div>

<div class="footerNavItems">
<h5>Marketing</h5>
<a href="/views/referral" title="Join the ReelCareer Affiliate Program and Earn Rewards">Affiliate Program</a>
</div>

<div class="footerNavItems">
<h5>Admin</h5>
<a href="/backend/dashboard" title="Admin Dashboard - Manage Users, Jobs, and Content">Admin</a>
</div>

<div class="footerNavItems">
<h5>Features</h5>
<a href="/jobs/city" title="City Jobs - Find Career Opportunities by Location">City Jobs</a><a href="/jobs/state" title="State Jobs - Explore Job Listings by State">State Jobs</a><a href="/jobs/locations" title="Job Locations - Browse Jobs in Your Area">Job Locations</a>
</div>
</nav>
<p class="footerCopyWrite">© 2024 ReelCareer</p>

</div>
<button id="backToTop" title="Go to top">↑</button>

</footer>

    
    <!-- Firebase configuration/ Login& Out -->
     

    <!-- Firebase JS SDK and Custom Scripts -->

    <script type="module">
        import {
            db, doc, getDoc, query, updateDoc,
            setDoc, ref, signInWithPopup, orderBy,
            limit , startAfter,
            uploadBytes, OAuthProvider, arrayUnion, getStorage,
            signOut, addDoc, increment, onAuthStateChanged,
            createUserWithEmailAndPassword, signInWithEmailAndPassword,
            where, getDocs, storage, collection, deleteObject, 
            auth, analytics, deleteDoc, getDownloadURL
        } from 'https://reelcareer.co/scripts/js/load/module.js';

        function setStatesMetaTags(stateData) {
    // Update the document title
    document.title = `ReelCareer.co | Jobs in ${stateData.name}`;

    // Helper function to create or update a meta tag
    function updateMetaOrLinkTag(name, content, isProperty = false, isCanonical = false) {
    let element;

    if (isCanonical) {
        // Handle canonical links
        element = document.querySelector('link[rel="canonical"]');
        if (!element) {
            element = document.createElement('link');
            element.setAttribute('rel', 'canonical');
            document.head.appendChild(element);
        }
        element.setAttribute('href', content);
    } else {
        // Handle meta tags
        element = document.querySelector(isProperty ? `meta[property="${name}"]` : `meta[name="${name}"]`);
        if (!element) {
            element = document.createElement('meta');
            if (isProperty) {
                element.setAttribute('property', name);
            } else {
                element.setAttribute('name', name);
            }
            document.head.appendChild(element);
        }
        element.setAttribute('content', content);
    }
}

       
// Meta tags for SEO
updateMetaOrLinkTag('description', stateData.description || `Explore the best job opportunities in ${stateData.name} on ReelCareer.co!`);
updateMetaOrLinkTag('keywords', stateData.keywords || `jobs in ${stateData.name}, ${stateData.name} careers, ${stateData.name} employment, ReelCareer`);
updateMetaOrLinkTag('author', stateData.author || 'ReelCareer Team');

// Open Graph (OG) meta tags for social media sharing
updateMetaOrLinkTag('og:title', `ReelCareer.co | Jobs in ${stateData.name}`, true);
updateMetaOrLinkTag('og:description', stateData.description || `Find your dream job in ${stateData.name} with ReelCareer.co!`, true);
updateMetaOrLinkTag('og:image', stateData.image || 'https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png', true);
updateMetaOrLinkTag('og:url', stateData.url || window.location.href, true);
updateMetaOrLinkTag('og:type', 'website', true);

// Twitter card meta tags
updateMetaOrLinkTag('twitter:card', 'summary_large_image');
updateMetaOrLinkTag('twitter:title', `ReelCareer.co | Jobs in ${stateData.name}`);
updateMetaOrLinkTag('twitter:description', stateData.description || `Discover top job opportunities in ${stateData.name} on ReelCareer!`);
updateMetaOrLinkTag('twitter:image', stateData.image || 'https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png');

// Canonical link
updateMetaOrLinkTag(null, stateData.url || window.location.href, false, true);
 }




    // Function to filter and display states
function filterStates(searchQuery, container) {
  const stateListContainer = document.getElementById(container);
  stateListContainer.innerHTML = ''; // Clear the container before filtering
  
  // Filter states based on search query
  const filteredStates = allJobs
    .map(job => job.state)
    .filter((state, index, self) => state && state.toLowerCase().includes(searchQuery.toLowerCase()) && self.indexOf(state) === index) // Remove duplicates
    .sort();
  
  if (filteredStates.length === 0) {
    stateListContainer.innerHTML = '<p>No locations found matching your search.</p>';
    return;
  }

  // Generate and inject filtered state list
  const stateListHTML = filteredStates
    .map(state => `
      <div class="state-city-card" data-job-location="${state}">
        <a href="https://reelcareer.co/jobs/state/?s=${state}"><i class="fas fa-city"></i></a>
        <h4><a href="https://reelcareer.co/jobs/state/?s=${state}">${state}</a></h4>
      </div>
    `)
    .join("");

  stateListContainer.innerHTML = stateListHTML;
}

// Function to display state list with a search bar
async function displayStateListWithSearch(jobsContainer) {
  try {
    // Fetch states from the external JSON file
    const response = await fetch('https://reelcareer.co/scripts/json/states.json');
    const statesData = await response.json();

    console.log("statesData  ", statesData);

    const states = [...new Set(statesData.states)]  // Assuming JSON structure: { "states": ["State1", "State2", ...] }
      .filter(state => state?.length > 0)  // Remove empty or undefined strings
      .sort();  // Sort alphabetically

    let allJobs = [];  // Array to hold all job data (to be populated by you)

    // Fetch jobs data if necessary and populate allJobs
    // Example (you need to implement fetching of jobs):
    // const jobsResponse = await fetch('path_to_jobs_data.json');
    // allJobs = await jobsResponse.json();

    // Inject the initial state list and search bar
    jobsContainer.innerHTML = `
      <h2>Available States</h2>
      <hr>
      <div class="search-bar-container">
        <input type="text" id="searchBar" placeholder="Search by City or State..." />
      </div>
      <div id="state-list-container" class="state-list">
        ${states
          .map(state => `
            <div class="state-city-card" data-job-location="${state}">
              <a href="https://reelcareer.co/jobs/state/?s=${state}"><i class="fas fa-city"></i></a>
              <h4><a href="https://reelcareer.co/jobs/state/?s=${state}">${state}</a></h4>
            </div>
          `)
          .join("")}
      </div>
    `;

    // Add event listener for search bar filtering
    const searchBar = document.getElementById("searchBar");
    searchBar.addEventListener("input", () => {
      const query = searchBar.value.toLowerCase();

      // Filter jobs based on the search query
      const filteredJobs = allJobs.filter(job =>
         job.state.toLowerCase().includes(query)
      );

      // Get unique states from filtered jobs
      const filteredStates = [...new Set(filteredJobs.map(job => job.state))].sort();

      // Update the state list display
      const filteredStateHTML = filteredStates
        .map(state => `
          <div class="state-city-card" data-job-location="${state}">
            <a href="https://reelcareer.co/jobs/state/?s=${state}"><i class="fas fa-city"></i></a>
            <h4><a href="https://reelcareer.co/jobs/state/?s=${state}">${state}</a></h4>
          </div>
        `)
        .join("");

      document.getElementById("state-list-container").innerHTML = filteredStateHTML;
    });

  } catch (error) {
    console.error("Error fetching states or jobs:", error);
    jobsContainer.innerHTML = `<p>Failed to load state list.</p>`;
  }
}


 // Fetch jobs based on state
 let allJobs = []; // This will store all the jobs fetched for the state

// Function to fetch jobs by state and store them in the data set (allJobs)
let lastVisible = null; // To keep track of the last visible document

async function fetchJobsByState(state) { 
  try {
    console.log("state name ", state);

    const jobsContainer = document.getElementById('stateListContainer');
    jobsContainer.innerHTML = '<p>Loading jobs...</p>';

    // Reference the 'Jobs' collection
    const jobsRef = collection(db, "Jobs");
    
    // Create the query with limit 25
    let jobsQuery = query(jobsRef, where("state", "==", state), limit(25));

    if (lastVisible) {
      jobsQuery = query(jobsRef, where("state", "==", state), limit(25), startAfter(lastVisible));
    }

    // Execute the query
    const querySnapshot = await getDocs(jobsQuery);
    console.log("querySnapshot ", querySnapshot);

    if (querySnapshot.empty) {
      let h2Header = document.getElementById('state-name');
      h2Header.style.display = "none"; 
      const stateHeader = document.getElementById("state-header");

      stateHeader.innerHTML = `
        <div class="search-container">
          <h1>Search Jobs by Location</h1>
          <p class="intro-text">
            Search or select from our list of locations below to find exciting job opportunities near you.
          </p>
          <div class="call-to-action">
            <p>
              Start your journey by exploring jobs in various locations. Check out our 
              <a href="https://reelcareer.co/jobs/locations" class="link">Available Location Page</a>
              for a complete list of opportunities across industries.
            </p>
          </div>
        </div>
      `;

      displayStateListWithSearch(jobsContainer);
      return;
    }


    let jobs = [];

    // Create HTML for job cards
    querySnapshot.forEach((doc) => {
      const job = doc.data();
      jobs.push({
        id: doc.id,
        title: job.title,
        company: job.company,
        city: job.city,
        state: job.state,
        salary: job.salary,
        description: job.description,
        industry: job.industry,
        url: `https://reelcareer.co/jobs/job-details?id=${doc.id}`
      });

      const jobCard = `
            <div class="location-job-card " data-job-title="${job.title}" data-job-company="${job.company}" data-job-location="${job.city}, ${job.state}">
          <h2>${job.title}</h2>
          <p><strong>Company:</strong> ${job.company}</p>
          <p><strong>Industry:</strong> ${job.industry}</p>
          <p><strong>Location:</strong> ${job.city}, ${job.state}</p>
          <p><strong>Salary:</strong> $${job.salary.toLocaleString()}</p>
          <p><strong>Description:</strong> ${job.description}</p>
          <a href="${job.url}" class="apply-link">View Job</a>
        </div>
      `;
      jobsContainer.innerHTML += jobCard;
    });

    // Store the jobs data in the container's dataset for future searches
    jobsContainer.dataset.jobs = JSON.stringify(jobs);

    // Set last visible document for pagination
    lastVisible = querySnapshot.docs[querySnapshot.docs.length - 1];

    // Create the "See More" button if more jobs are available
    const seeMoreButton = document.createElement('button');
    seeMoreButton.textContent = 'See More';
    seeMoreButton.onclick = () => fetchJobsByState(state); // Fetch next batch of jobs
    jobsContainer.appendChild(seeMoreButton);

 
    


    jobsContainer.innerHTML = ''; // Clear the loading text
    allJobs = []; // Reset the allJobs array before adding new data

    querySnapshot.forEach(doc => {
      const job = doc.data();
      allJobs.push({
        id: doc.id,
        title: job.title,
        company: job.company,
        city: job.city,
        state: job.state,
        salary: job.salary,
        description: job.description,
        industry: job.industry,
        category: job.category,
        url: `https://reelcareer.co/jobs/job-details?id=${doc.id}`
      });



      
      const jobCard = `
              <div class="location-job-card " data-job-title="${job.title}" data-job-company="${job.company}" data-job-location="${job.city}, ${job.state}">
          <h2>${job.title}</h2>
          <p><strong>Company:</strong> ${job.company}</p>
          <p><strong>Industry:</strong> ${job.industry}</p>
          <p><strong>Category:</strong> ${job.category}</p>
        <p><strong>Location:</strong> <div class="cities">${job.city}</div>, ${job.state}</p>
          <p><strong>Salary:</strong> $${job.salary.toLocaleString()}</p>
          <p><strong>Description:</strong> ${job.description}</p>
          <a href="https://reelcareer.co/jobs/job-details?id=${doc.id}" target="_blank" class="apply-link">Apply Now</a>
        </div>
      `;
      jobsContainer.innerHTML += jobCard;


    });


    
  const cities = jobsContainer.getElementsByClassName("cities");
  const stateHeader = document.getElementById("state-header");
  const firstCityName = cities[0].textContent.trim(); // trim to remove any leading/trailing spaces
  console.log("firstCityName  ",firstCityName);

  stateHeader.innerHTML = stateHeader.innerHTML.replaceAll("[City Name]", firstCityName);

  } catch (error) {
    console.error('Error fetching jobs:', error);
    document.getElementById('stateListContainer').innerHTML = '<p>Error loading jobs. Please try again later.</p>';
  }
}




// Initialize page
document.addEventListener('DOMContentLoaded', () => {
  let container = "stateListContainer";

  // Get the state value from the URL
  const state = getKeyFromURL("s") || "State";

  
  // If the state is not "State" or null, update the container and header
  if (state && state !== "State") {
    container = "state-list-Container";

    // Update the header to show "Jobs In [State Name]"
    const h2Header = document.getElementById('state-name');
    if (h2Header) {
      h2Header.textContent = `Jobs In ${state}`; // Update header text
      h2Header.style.display = "block"; // Ensure the header is visible
    }
    const stateHeader = document.getElementById("state-header");

stateHeader.innerHTML = stateHeader.innerHTML.replaceAll("[State Name]", state);
  
  } else {
    // Hide the header when no specific state is selected
    const h2Header = document.getElementById('state-name');
    if (h2Header) {
      h2Header.style.display = "none";
    }
    
  }
  fetchJobsByState(state);

  // If a state is selected, set meta tags for SEO
  if (state) {
    document.title = `ReelCareer.co | Search for Jobs in the State of ${state}`;

    // Set the meta tags for the state
    const stateData = {
      name: state,
      description: `Discover thousands of job openings across industries in ${state}. From tech to healthcare, find your next career move here!`,
      keywords: `${state} jobs, careers in ${state}, tech jobs in ${state}, ${state} employment`,
      author: `ReelCareer Team`,
      image: `https://www.reelcareer.co/images/sq_logo_n_BG_tie_reelx.png`,
      url: `https://reelcareer.co/jobs/state/${state}`
    };

    // Set the state meta tags
    setStatesMetaTags(stateData);

    
  // Attach search event

  }

  document.getElementById('job-search').addEventListener('input', () => searchCities(container));

});
// Search functionality for cities
function searchCities(containerId) {
  const searchTerm = document.getElementById('job-search').value.toLowerCase();
  const jobsContainer = document.getElementById(containerId);
  
  if (!jobsContainer || !jobsContainer.dataset.jobs) {
    console.error("Jobs container or dataset not found.");
    return;
  }

  const jobs = JSON.parse(jobsContainer.dataset.jobs);

  // Filter jobs based on both title and city
  const filteredJobs = jobs.filter(job => 
    job.state.toLowerCase().includes(searchTerm) || 
    job.title.toLowerCase().includes(searchTerm)
  );

  if (filteredJobs.length === 0) {
    jobsContainer.innerHTML = '<p>No jobs found matching your search.</p>';
    return;
  }

  // Generate filtered job list (show title, company, and location)
  const jobHTML = filteredJobs
    .map(job => `

            <div class="location-job-card " data-job-title="${job.title}" data-job-company="${job.company}" data-job-location="${job.city}, ${job.state}">
          <h2>${job.title}</h2>
          <p><strong>Company:</strong> ${job.company}</p>
          <p><strong>Category:</strong> ${job.category}</p>
          <p><strong>Industry:</strong> ${job.industry}</p>
             <p><strong>Location:</strong> ${job.city}, ${job.state}</p>
          <p><strong>Salary:</strong> $${job.salary.toLocaleString()}</p>
          <p><strong>Description:</strong> ${job.description}</p>
          <a href="${job.url}" class="apply-link">View Job</a>
        </div>
    `).join("");

  jobsContainer.innerHTML = `
      <h2 class="header-title">Filtered Jobs</h2>
      <hr class="header-divider">
    </div>
    <div id="state-city-body-Container" class="state-city-body">${jobHTML}</div>
  `;
}



async function generateJobSchemas(querySnapshot) {
  // Initialize an array to store all job schema objects
  const jobSchemas = [];
  
  // Loop through each job in the querySnapshot
  for (const doc of querySnapshot.docs) {  // Use for...of for async compatibility
    const job = doc.data();
    
    // Generate the JobPosting schema for each job
    const jobSchema = {
      "@context": "https://schema.org",
      "@type": "JobPosting",
      "title": job.title,
      "description": job.description,
      "identifier": {
        "@type": "PropertyValue",
        "name": job.company,
        "value": doc.id
      },
      "datePosted": new Date().toISOString(), // You can adjust this if you have a specific posting date
      "hiringOrganization": {
        "@type": "Organization",
        "name": job.company,
        "sameAs": job.companyUrl || "https://www.reelcareer.co" // Optional: Link to the company's website, if available
      },
      "jobLocation": {
        "@type": "Place",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": job.city,
          "addressLocality": job.city,
          "addressRegion": job.state,
          "addressCountry": "US"
        }
      },
      "salaryCurrency": "USD",
      "salaryAmount": {
        "@type": "MonetaryAmount",
        "value": job.salary,
        "currency": "USD"
      },
      "employmentType": job.employmentType || "FULL_TIME", // Default to FULL_TIME if not provided
      "baseSalary": {
        "@type": "MonetaryAmount",
        "value": job.salary,
        "currency": "USD"
      },
      "workHours": job.workHours || "40 hours per week", // Optional: Add work hours if available
      "validThrough": job.validThrough || new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString(), // Optional: Job application deadline
    };

    // Add the schema for this job to the array
    jobSchemas.push(jobSchema);
  }

  // Create a script tag to inject into the page
  const schemaScript = document.createElement('script');
  schemaScript.type = 'application/ld+json';
  schemaScript.textContent = JSON.stringify(jobSchemas);

  // Append the script tag to the head of the page
  document.head.appendChild(schemaScript);
}


// Function to fetch similar jobs based on tags
document.addEventListener("DOMContentLoaded", () => {
  setTimeout(() => {

loadRelatedBlogs();

getSimilarJobs();
}, 1000);
});

</script> 


  <!-- Schema.org Markup -->
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "WebPage",
      "name": "Jobs in State | ReelCareer",
      "url": "https://www.reelcareer.co/jobs/state",
      "description": "Discover top jobs in [State Name] with ReelCareer. Connect with employers near you.",
      "mainEntity": {
        "@type": "SearchAction",
        "target": "https://www.reelcareer.co/jobs/state#{search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
  </script>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://www.reelcareer.co/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Jobs",
          "item": "https://www.reelcareer.co/jobs"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Jobs by State",
          "item": "https://www.reelcareer.co/jobs/state"
        }
      ]
    }
    </script>
    
    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>
