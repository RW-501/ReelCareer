<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Test Page</title>

    <!-- Bootstrap CSS -->
<!-- Bootstrap CSS without integrity check -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Styles -->
    <script src="public/js/scripts.js"></script>
</head>
<body>
    <!-- Bootstrap Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Test Page</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Bootstrap Container -->
    <div class="container mt-5">
        <h1>Testing JavaScript, Bootstrap, and Console Logs</h1>
        
        <!-- Test Button with Bootstrap Styling -->
        <button id="testButton" class="btn btn-primary">Click Me</button>

        <!-- Loading Indicator -->
        <div id="loadingIndicator" class="spinner-border text-primary d-none" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>

        <!-- Placeholder for Job Listings -->
        <div id="jobListings" class="mt-4">
            <!-- Job listings will be dynamically inserted here -->
        </div>

        <!-- Alert for dynamic content -->
        <div id="alertBox" class="alert alert-success d-none mt-4" role="alert">
            JavaScript Test Passed! Loading jobs...
        </div>
    </div>

    <!-- Bootstrap JS (for functionality like modals, dropdowns) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-cn7l7gDp0eyFqflz+b5AkAIjokmAu5jj/+pzTHmLkspG5Z3K5p5Y5xHcImIhKN6w" crossorigin="anonymous"></script>

    <!-- jQuery (optional, remove if not needed) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>

    <!-- Link to your custom JavaScript files -->
      <!-- Footer -->
      <footer id="dynamic-footer"></footer>

      <!-- Firebase configuration/ Login& Out -->
      <script type="module" src="public/js/main.js"></script> 

    <script>
        // Test basic JavaScript functionality
        document.getElementById('testButton').addEventListener('click', function() {
            console.log('Test Button Clicked!');
            alert('JavaScript is working!');

            // Toggle loading indicator
            const loadingIndicator = document.getElementById('loadingIndicator');
            loadingIndicator.classList.toggle('d-none');

            // Simulate loading jobs with console logs
            console.log('Toggling loading indicator...');
            setTimeout(() => {
                console.log('Loading jobs now...');
                loadJobListings(); // Call function to load jobs
            }, 2000);
        });

        // Function to simulate job listings loading
        function loadJobListings() {
            const jobListings = document.getElementById('jobListings');
            const alertBox = document.getElementById('alertBox');

            console.log('Job Listings Section: ', jobListings);

            // Simulate dynamic job insertion
            jobListings.innerHTML = `
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">Software Engineer</h5>
                        <p class="card-text">Location: Dallas, TX</p>
                        <p class="card-text">Salary: $90,000 - $110,000</p>
                    </div>
                </div>
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">Web Developer</h5>
                        <p class="card-text">Location: San Francisco, CA</p>
                        <p class="card-text">Salary: $80,000 - $100,000</p>
                    </div>
                </div>
            `;

            console.log('Job Listings Loaded Successfully!');

            // Show success alert
            alertBox.classList.remove('d-none');
            console.log('Alert Box Visible: ', alertBox);
        }

        // Test if external JS files are loaded
        window.addEventListener('load', function() {
            console.log('Page loaded successfully.');

            // Test if functions from your custom JS files are working
            try {
                if (typeof customFunctionFromMain === 'function') {
                    console.log('Custom function from main.js detected.');
                    customFunctionFromMain(); // Call the function if it exists
                } else {
                    console.log('customFunctionFromMain not found.');
                }

                if (typeof customFunctionFromScripts === 'function') {
                    console.log('Custom function from scripts.js detected.');
                    customFunctionFromScripts(); // Call the function if it exists
                } else {
                    console.log('customFunctionFromScripts not found.');
                }
            } catch (error) {
                console.error('Error calling functions from JS files:', error);
            }
        });
    </script>
</body>
</html>
